!function(){var e=null;window.Logster||(window.Logster={enabled:!0}),window.onerror=function(t,n,r,i,o){if(!(e&&new Date-e<6e4)&&Logster.enabled){e=new Date;var a={message:t,url:n,line:r,column:i,window_location:window.location&&window.location+""};o&&o.stack&&(a.stacktrace=o.stack),$.ajax("/logs/report_js_error",{data:a,type:"POST",cache:!1})}}}(),window.ENV={},window.Discourse={},Discourse.SiteSettings={},function(){var e,t;t=function(){window.probes={clear:t,measure:e,displayProbes:n}},e=function(e,t){var n,r,i,o=null;if(t||(t={}),"string"==typeof t)n=t;else{if(n=t.name,"measure"===n||"clear"===n)throw new Error("can not be called measure or clear");if(!n)throw new Error("you must specify the name option measure(fn, {name: 'some name'})");r=t.before,i=t.after}var a=function(){var e=window.performance||{},t=e.now||e.mozNow||e.webkitNow||e.msNow||e.oNow;return t?t.bind(e):function(){return(new Date).getTime()}}();return function(){var t=n;"function"==typeof t&&(t=n(arguments));var s=window.probes[t],l=!o;r&&r(s,l,arguments),void 0===s&&(window.probes[t]={count:0,time:0,currentTime:0},s=window.probes[t]);var c;l?(o=a(),c=o):i&&(c=a());var u=e.apply(this,arguments);return l&&o&&(s.time+=a()-o,o=null),s.count+=1,i&&(s.currentTime=a()-c,i(s,l,arguments)),u}};var n=function(){var e,t="",r=document.getElementsByTagName("body")[0];for(var i in window.probes){var o=window.probes[i];o&&o.count&&(t+=i+": "+o.time+" ( "+o.count+" )\n")}if(e=document.getElementById("__probes"),r){if(e)return e.textContent=t,void(e.innerText=t);var a=document.createElement("div");a.id="__probes_wrapper",a.setAttribute("style","position: fixed; bottom: 25px; left: 50px; z-index: 99999; border: 1px solid #777; padding: 10px; background-color: rgba(255,255,255, 0.8);"),e=document.createElement("pre"),e.setAttribute("style","margin:0 0 5px;"),e.textContent=t,e.innerText=t,e.id="__probes",a.appendChild(e);var s=document.createElement("a");s.href="",s.innerText="clear",s.addEventListener("click",function(e){for(var t in window.probes){var r=window.probes[t];r&&r.count&&delete window.probes[t]}n(),e.preventDefault()}),a.appendChild(s),r.appendChild(a)}};t()}(),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Handlebars=e.Handlebars||t()}(this,function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return l[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e){return e instanceof s?e.toString():null==e?"":e?(e=""+e,u.test(e)?e.replace(c,t):e):e+""}function i(e){return e||0===e?f(e)&&0===e.length?!0:!1:!0}function o(e,t){return(e?e+".":"")+t}var a={},s=e,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","\n":"\\n","\r":"\\n","\b":"\\b","\f":"\\f","	":"\\t","\x0B":"\\v"},c=/[&<>"'`\b\f\n\r\t\v]/g,u=/[&<>"'`\b\f\n\r\t\v]/;a.extend=n;var h=Object.prototype.toString;a.toString=h;var d=function(e){return"function"==typeof e};d(/x/)&&(d=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)});var d;a.isFunction=d;var f=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===h.call(e):!1};return a.isArray=f,a.escapeExpression=r,a.isEmpty=i,a.appendContextPath=o,a}(e),n=function(){"use strict";function e(e,t){var r;t&&t.firstLine&&(r=t.firstLine,e+=" - "+r+":"+t.firstColumn);for(var i=Error.prototype.constructor.call(this,e),o=0;o<n.length;o++)this[n[o]]=i[n[o]];r&&(this.lineNumber=r,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),r=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},r(this)}function r(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new a("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,i=n.fn;if(t===!0)return i(this);if(t===!1||null==t)return r(this);if(u(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var a=m(n.data);a.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new a("Must pass iterator to #each");var n,r,i=t.fn,s=t.inverse,l=0,c="";if(t.data&&t.ids&&(r=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),h(e)&&(e=e.call(this)),t.data&&(n=m(t.data)),e&&"object"==typeof e)if(u(e))for(var d=e.length;d>l;l++)n&&(n.index=l,n.first=0===l,n.last=l===e.length-1,r&&(n.contextPath=r+l)),c+=i(e[l],{data:n});else for(var f in e)e.hasOwnProperty(f)&&(n&&(n.key=f,n.index=l,n.first=0===l,r&&(n.contextPath=r+f)),c+=i(e[f],{data:n}),l++);return 0===l&&(c=s(this)),c}),e.registerHelper("if",function(e,t){return h(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){h(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var r=m(t.data);r.contextPath=o.appendContextPath(t.data.contextPath,t.ids[0]),t={data:r}}return n(e,t)}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var i={},o=e,a=t,s="2.0.0";i.VERSION=s;var l=6;i.COMPILER_REVISION=l;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};i.REVISION_CHANGES=c;var u=o.isArray,h=o.isFunction,d=o.toString,f="[object Object]";i.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:p,log:g,registerHelper:function(e,t){if(d.call(e)===f){if(t)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){d.call(e)===f?o.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(p.level<=e){var n=p.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};i.logger=p;var g=p.log;i.log=g;var m=function(e){var t=o.extend({},e);return t._parent=e,t};return i.createFrame=m,i}(t,n),i=function(e,t,n){"use strict";function r(e){var t=e&&e[0]||1,n=d;if(t!==n){if(n>t){var r=f[n],i=f[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new h("No environment passed to template");if(!e||!e.main)throw new h("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,r,i,o,a,s,l,c,d){a&&(o=u.extend({},o,a));var f=t.VM.invokePartial.call(this,n,i,o,s,l,c,d);if(null==f&&t.compile){var p={helpers:s,partials:l,data:c,depths:d};l[i]=t.compile(n,{data:void 0!==c,compat:e.compat},t),f=l[i](o,p)}if(null!=f){if(r){for(var g=f.split("\n"),m=0,v=g.length;v>m&&(g[m]||m+1!==v);m++)g[m]=r+g[m];f=g.join("\n")}return f}throw new h("The partial "+i+" could not be compiled when running in runtime-only mode")},r={lookup:function(e,t){for(var n=e.length,r=0;n>r;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:u.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var r=this.programs[e],i=this.fn(e);return t||n?r=o(this,e,i,t,n):r||(r=this.programs[e]=o(this,e,i)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=u.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},i=function(t,n){n=n||{};var o=n.data;i._setup(n),!n.partial&&e.useData&&(o=l(t,o));var a;return e.useDepths&&(a=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,o,a)};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},i._child=function(t,n,i){if(e.useDepths&&!i)throw new h("must pass parent depths");return o(r,t,e[t],n,i)},i}function o(e,t,n,r,i){var o=function(t,o){return o=o||{},n.call(e,t,e.helpers,e.partials,o.data||r,i&&[t].concat(i))};return o.program=t,o.depth=i?i.length:0,o}function a(e,t,n,r,i,o,a){var s={partial:!0,helpers:r,partials:i,data:o,depths:a};if(void 0===e)throw new h("The partial "+t+" could not be found");return e instanceof Function?e(n,s):void 0}function s(){return""}function l(e,t){return t&&"root"in t||(t=t?p(t):{},t.root=e),t}var c={},u=e,h=t,d=n.COMPILER_REVISION,f=n.REVISION_CHANGES,p=n.createFrame;return c.checkRevision=r,c.template=i,c.program=o,c.invokePartial=a,c.noop=s,c}(t,n,r),o=function(e,t,n,r,i){"use strict";var o,a=e,s=t,l=n,c=r,u=i,h=function(){var e=new a.HandlebarsEnvironment;return c.extend(e,a),e.SafeString=s,e.Exception=l,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e},d=h();return d.create=h,d["default"]=d,o=d}(r,e,n,t,i);return o}),function(){if("undefined"!=typeof I18n){var e=I18n.lookup;I18n.lookup=function(t,n){return e.apply(this,["js."+t,n])};var t=I18n.toHumanSize;I18n.toHumanSize=function(e,n){return n=n||{},n.format=I18n.t("number.human.storage_units.format"),t.apply(this,[e,n])},Ember.EXTEND_PROTOTYPES&&(String.prototype.i18n=function(e){return I18n.t(String(this),e)})}}();var define,requireModule,require,requirejs;!function(){function e(e,t){try{return e()}finally{t()}}function t(e){throw new Error("an unsupported module was defined, expected `define(name, deps, module)` instead got: `"+e+"` arguments to define`")}function n(e,t,n,r){this.id=d++,this.name=e,this.deps=!t.length&&n.length?f:t,this.exports=r||{},this.callback=n,this.state=void 0,this._require=void 0}function r(e){this.name=e}function i(e,t,n){for(var r,i=e.deps,a=i.length,l=new Array(a),c={},u=0,h=a;h>u;u++)r=i[u],"exports"===r?c.exports=l[u]=n:"require"===r?l[u]=e.makeRequire():"module"===r?(e.exports=n,c=l[u]=e):l[u]=o(s(r,t),t);return{deps:l,module:c}}function o(e,t){var n=c[e];if(!n)throw new Error("Could not find module `"+e+"` imported from `"+t+"`");return require(e)}function a(e){throw new Error("Could not find module "+e)}function s(e,t){if("."!==e.charAt(0))return e;for(var n=e.split("/"),r=t.split("/"),i=r.slice(0,-1),o=0,a=n.length;a>o;o++){var s=n[o];if(".."===s){if(0===i.length)throw new Error("Cannot access parent module of root");i.pop()}else{if("."===s)continue;i.push(s)}}return i.join("/")}var l;l=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var c={},u={},h=!1,d=0,f=["require","exports","module"];n.prototype.makeRequire=function(){var e=this.name;return this._require||(this._require=function(t){return require(s(t,e))})},define=function(e,r,i){arguments.length<2&&t(arguments.length),l(r)||(i=r,r=[]),c[e]=new n(e,r,i)},define.petal={},define.alias=function(e){return new r(e)},requirejs=require=requireModule=function(t){var n=c[t];if(n&&n.callback instanceof r&&(n=c[n.callback.name]),n||a(t),n.state!==h&&u.hasOwnProperty(t))return u[t];var o,s,l=!1;u[t]={},e(function(){o=i(n,t,u[t]),s=n.callback.apply(this,o.deps),l=!0},function(){l||(n.state=h)});var d;return d=void 0===s&&o.module.exports?o.module.exports:u[t]=s,null===d||"object"!=typeof d&&"function"!=typeof d||void 0!==d["default"]||(d["default"]=d),u[t]=d},requirejs.entries=requirejs._eak_seen=c,requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=c={},u=state={}}}(),window.MessageBus=function(){var e,t,n,r,i,o,a,s,l,c,u,h,d,f,p;a=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=16*Math.random()|0,n="x"===e?t:3&t|8,n.toString(16)})},t=a(),o={},e=[],i=[],interval=null,n=0,s="/",f=!1,p=[];var g;!function(){for(var e=["","webkit","ms","moz","ms"],t=0;t<e.length;t++){var n=e[t],r=n+(""===n?"hidden":"Hidden");void 0!==document[r]&&(g=r)}}();var m=function(){return void 0!==g?document[g]:!document.hasFocus};r=function(){return l.alwaysLongPoll||!m()};var v,b=0,y=0,w=function(t){var n=!1;if(!t)return!1;for(var r=0;r<t.length;r++){var i=t[r];n=!0;for(var o=0;o<e.length;o++){var a=e[o];if(a.channel===i.channel){a.last_id=i.message_id;try{a.func(i.data)}catch(s){console.log&&console.log("MESSAGE BUS FAIL: callback "+a.channel+" caused exception "+s.message)}}"/__status"===i.channel&&void 0!==i.data[a.channel]&&(a.last_id=i.data[a.channel])}}return n};return h=function(e,t){var i=!1,o=!1;return v=new Date,y+=1,t.__seq=y,l.ajax({url:l.baseUrl+"message-bus/"+l.clientId+"/poll?"+(r()&&l.enableLongPolling?"":"dlp=t"),data:t,cache:!1,dataType:"json",type:"POST",headers:{"X-SILENCE-LOGGER":"true"},success:function(e){if(n=0,f){if(e)for(var t=0;t<e.length;t++)p.push(e[t])}else i=w(e)},error:function(e,t,r){"abort"===t?o=!0:(n+=1,b+=1)},complete:function(){var t;try{i||o?t=100:(t=l.callbackInterval,n>2?t*=n:r()||(t=l.backgroundCallbackInterval),t>l.maxPollInterval&&(t=l.maxPollInterval),t-=new Date-v,100>t&&(t=100))}catch(a){console.log&&a.message&&console.log("MESSAGE BUS FAIL: "+a.message)}d=setTimeout(function(){d=null,e()},t),l.longPoll=null}})},l={enableLongPolling:!0,callbackInterval:15e3,backgroundCallbackInterval:6e4,maxPollInterval:18e4,callbacks:e,clientId:t,alwaysLongPoll:!1,baseUrl:s,ajax:$&&$.ajax,diagnostics:function(){console.log("Stopped: "+u+" Started: "+c),console.log("Current callbacks"),console.log(e),console.log("Total ajax calls: "+y+" Recent failure count: "+n+" Total failures: "+b),console.log("Last ajax call: "+(new Date-v)/1e3+" seconds ago")},pause:function(){f=!0},resume:function(){f=!1,w(p),p=[]},stop:function(){u=!0,c=!1},start:function(){var t,n;c||(c=!0,u=!1,t=function(){var r;if(!u){if(0===e.length)return void(n||(n=setTimeout(function(){n=null,t()},500)));r={};for(var i=0;i<e.length;i++)r[e[i].channel]=e[i].last_id;l.longPoll=h(t,r)}},document.addEventListener&&"hidden"in document&&(l.visibilityEvent=document.addEventListener("visibilitychange",function(){document.hidden||l.longPoll||!d||(clearTimeout(d),d=null,t())})),t())},subscribe:function(t,n,r){return c||u||l.start(),("number"!=typeof r||-1>r)&&(r=-1),e.push({channel:t,func:n,last_id:r}),l.longPoll?l.longPoll.abort():void 0},unsubscribe:function(t,n){var r;-1!==t.indexOf("*",t.length-1)&&(t=t.substr(0,t.length-1),r=!0);for(var i=[],o=0;o<e.length;o++){callback=e[o];var a;a=r?callback.channel.substr(0,t.length)!==t:callback.channel!==t,!a&&n&&callback.func!==n&&(a=!0),a&&i.push(callback)}return e=i,l.longPoll?l.longPoll.abort():void 0}}}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(a){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,a,s,l={},c=t.split(".")[0];return t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(r,function(t,r){return e.isFunction(r)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=r)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var r,i,o=n.call(arguments,1),a=0,s=o.length;s>a;a++)for(r in o[a])i=o[a][r],o[a].hasOwnProperty(r)&&void 0!==i&&(e.isPlainObject(i)?t[r]=e.isPlainObject(t[r])?e.widget.extend({},t[r],i):e.widget.extend({},i):t[r]=i);return t},e.widget.bridge=function(t,r){var i=r.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=n.call(arguments,1),l=this;return o=!a&&s.length?e.widget.extend.apply(null,[o].concat(s)):o,a?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(l=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s),n!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new r(o,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},r=t.split("."),t=r.shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?i.delegate(u,c,s):n.bind(c,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}});e.widget});var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(e){return!1}function n(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);r===e?this[t]=n:this[t]=function(e){var t=Array.prototype.slice.call(arguments,0);return t[0]=r.apply(null,t),n.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},Markdown.HookCollection=n}(),function(e){function t(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function n(){var e=require("util");return"Markdown.mk_block( "+e.inspect(this.toString())+", "+e.inspect(this.trailing)+", "+e.inspect(this.lineNumber)+" )"}function r(e){return e.split("\n").length-1}function i(e){return e&&e.length>0?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):""}function o(e){if("string"==typeof e)return e;if("__RAW"===e[0])return e[1];var t=e.shift(),n={},r=[];for(!e.length||"object"!=typeof e[0]||e[0]instanceof Array||(n=e.shift());e.length;)r.push(o(e.shift()));var a="";"undefined"!=typeof n.src&&(a+=' src="'+i(n.src)+'"',delete n.src);for(var s in n){var l=i(n[s]);l&&l.length&&(a+=" "+s+'="'+l+'"')}return"img"===t||"br"===t||"hr"===t?"<"+t+a+"/>":"<"+t+a+">"+r.join("")+"</"+t+">"}function a(e,t,n){var r;n=n||{};var i=e.slice(0);"function"==typeof n.preprocessTreeNode&&(i=n.preprocessTreeNode(i,t));var o=p(i);if(o){i[1]={};for(r in o)i[1][r]=o[r];o=i[1]}if("string"==typeof i)return i;switch(i[0]){case"header":i[0]="h"+i[1].level,delete i[1].level;break;case"bulletlist":i[0]="ul";break;case"numberlist":i[0]="ol";break;case"listitem":i[0]="li";break;case"para":i[0]="p";break;case"markdown":i[0]="html",o&&delete o.references;break;case"code_block":i[0]="pre",r=o?2:1;var s=["code"];s.push.apply(s,i.splice(r,i.length-r)),i[r]=s;break;case"inlinecode":i[0]="code";break;case"img":i[1].src=i[1].href,delete i[1].href;break;case"linebreak":i[0]="br";break;case"link":i[0]="a";break;case"link_ref":i[0]="a";var l=t[o.ref];if(!l)return o.original;delete o.ref,o.href=l.href,l.title&&(o.title=l.title),delete o.original;break;case"img_ref":i[0]="img";var l=t[o.ref];if(!l)return o.original;delete o.ref,o.src=l.href,l.title&&(o.title=l.title),delete o.original}if(r=1,o){for(var c in i[1]){r=2;break}1===r&&i.splice(r,1)}for(;r<i.length;++r)i[r]=a(i[r],t,n);return i}function s(e){for(var t=p(e)?2:1;t<e.length;)"string"==typeof e[t]?t+1<e.length&&"string"==typeof e[t+1]?e[t]+=e.splice(t+1,1)[0]:++t:(s(e[t]),++t)}function l(){p(this.tree)||this.tree.splice(1,0,{});var e=p(this.tree);return void 0===e.references&&(e.references={}),e}function c(e,t){t[2]&&"<"===t[2][0]&&">"===t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var n=e.references[t[1].toLowerCase()]={href:t[2]};void 0!==t[4]?n.title=t[4]:void 0!==t[5]&&(n.title=t[5])}var u={};u.mk_block=function(e,r,i){1===arguments.length&&(r="\n\n");var o=new String(e);return o.trailing=r,o.inspect=n,o.toSource=t,void 0!==i&&(o.lineNumber=i),o};var h=u.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};Array.prototype.forEach?u.forEach=function(e,t,n){return e.forEach(t,n)}:u.forEach=function(e,t,n){for(var r=0;r<e.length;r++)t.call(n||e,e[r],r,e)},u.isEmpty=function(e){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},u.extract_attr=function(e){return h(e)&&e.length>1&&"object"==typeof e[1]&&!h(e[1])?e[1]:void 0};var d=function(e){switch(typeof e){case"undefined":this.dialect=d.dialects.Gruber;break;case"object":this.dialect=e;break;default:if(!(e in d.dialects))throw new Error("Unknown Markdown dialect '"+String(e)+"'");this.dialect=d.dialects[e]}this.em_state=[],this.strong_state=[],this.debug_indent=""};d.dialects={};var f=d.mk_block=u.mk_block,h=u.isArray;d.parse=function(e,t){var n=new d(t);return n.toTree(e)},d.prototype.split_blocks=function(e){e=e.replace(/(\r\n|\n|\r)/g,"\n");var t,n=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,i=[],o=1;for(null!==(t=/^(\s*\n)/.exec(e))&&(o+=r(t[0]),n.lastIndex=t[0].length);null!==(t=n.exec(e));)"\n#"===t[2]&&(t[2]="\n",n.lastIndex--),i.push(f(t[1],t[2],o)),o+=r(t[0]);return i},d.prototype.processBlock=function(e,t){var n=this.dialect.block,r=n.__order__;if("__call__"in n)return n.__call__.call(this,e,t);for(var i=0;i<r.length;i++){var o=n[r[i]].call(this,e,t);if(o)return(!h(o)||o.length>0&&!h(o[0])&&"string"!=typeof o[0])&&this.debug(r[i],"didn't return a proper array"),o}return[]},d.prototype.processInline=function(e){return this.dialect.inline.__call__.call(this,String(e))},d.prototype.toTree=function(e,t){var n=e instanceof Array?e:this.split_blocks(e),r=this.tree;try{for(this.tree=t||this.tree||["markdown"];n.length;){var i=this.processBlock(n.shift(),n);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{t&&(this.tree=r)}},d.prototype.debug=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,e),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,e)},d.prototype.loop_re_over_block=function(e,t,n){for(var r,i=t.valueOf();i.length&&null!==(r=e.exec(i));)i=i.substr(r[0].length),n.call(this,r);return i},d.buildBlockOrder=function(e){var t=[[]];for(var n in e)if("__order__"!==n&&"__call__"!==n){var r=e[n].priority||0;t[r]=t[r]||[],t[r].push(n)}var i=[];for(n=t.length-1;n>=0;n--)if(t[n])for(var o=0;o<t[n].length;o++)i.push(t[n][o]);e.__order__=i},d.buildInlinePatterns=function(e){var t=[];for(var n in e)if(!n.match(/^__.*__$/)){var r=n.replace(/([\\.*+?^$|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");t.push(1===n.length?r:"(?:"+r+")")}t=t.join("|"),e.__patterns__=t;var i=e.__call__;e.__call__=function(e,n){return void 0!==n?i.call(this,e,n):i.call(this,e,t)}};var p=u.extract_attr;d.renderJsonML=function(e,t){t=t||{},t.root=t.root||!1;var n=[];if(t.root)n.push(o(e));else for(e.shift(),!e.length||"object"!=typeof e[0]||e[0]instanceof Array||e.shift();e.length;)n.push(o(e.shift()));return n.join("\n\n")},d.toHTMLTree=function(e,t,n){"string"==typeof e&&(e=this.parse(e,t));var r=p(e),i={};r&&r.references&&(i=r.references);var o=a(e,i,n);return s(o),o},d.toHTML=function(e,t,n){var r=this.toHTMLTree(e,t,n);return this.renderJsonML(r)};var g={};g.inline_until_char=function(e,t){for(var n=0,r=[],i=this.dialect.inline.__patterns__.replace("|_|","|");;){if(e.charAt(n)===t)return n++,[n,r];if(n>=e.length)return[n,null,r];var o=this.dialect.inline.__oneElement__.call(this,e.substr(n),i,[e.substr(0,n)]);n+=o[0],r.push.apply(r,o.slice(1))}},g.subclassDialect=function(e){function t(){}function n(){}return t.prototype=e.block,n.prototype=e.inline,{block:new t,inline:new n}};var v=u.forEach,p=u.extract_attr,f=u.mk_block,b=u.isEmpty,y=g.inline_until_char,w=/(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?/i.source,_={block:{atxHeader:function(e,t){var n=e.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(n){var r=["header",{level:n[1].length}];return Array.prototype.push.apply(r,this.processInline(n[2])),n[0].length<e.length&&t.unshift(f(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[r]}},setextHeader:function(e,t){var n=e.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(n){var r="="===n[2]?1:2,i=["header",{level:r}].concat(this.processInline(n[1]));return n[0].length<e.length&&t.unshift(f(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[i]}},code:function(e,t){var n=[],r=/^(?: {0,3}\t| {4})(.*)\n?/;if(e.match(r)){e:for(;;){var i=this.loop_re_over_block(r,e.valueOf(),function(e){n.push(e[1])});if(i.length){t.unshift(f(i,e.trailing));break e}if(!t.length)break e;if(!t[0].match(r))break e;n.push(e.trailing.replace(/[^\n]/g,"").substring(2)),e=t.shift()}return[["code_block",n.join("\n")]]}},horizRule:function(e,t){var n=e.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(n){var r=[["hr"]];if(n[1]){var i=f(n[1],"",e.lineNumber);r.unshift.apply(r,this.toTree(i,[]))}return n[3]&&t.unshift(f(n[3],e.trailing,e.lineNumber+1)),r}},lists:function(){function e(e){return new RegExp("(?:^("+l+"{0,"+e+"} {0,3})("+o+")\\s+)|(^"+l+"{0,"+(e-1)+"}[ ]{0,4})")}function t(e){return e.replace(/ {0,3}\t/g,"    ")}function n(e,t,n,r){if(t)return void e.push(["para"].concat(n));var i=e[e.length-1]instanceof Array&&"para"===e[e.length-1][0]?e[e.length-1]:e;r&&e.length>1&&n.unshift(r);for(var o=0;o<n.length;o++){var a=n[o],s="string"==typeof a;s&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=a:i.push(a)}}function r(e,t){for(var n=new RegExp("^("+l+"{"+e+"}.*?\\n?)*$"),r=new RegExp("^"+l+"{"+e+"}","gm"),i=[];t.length>0&&(test=t[0].replace(/^ {8,}/,"        "),n.exec(test));){var o=t.shift(),a=o.replace(r,"");i.push(f(a,o.trailing,o.lineNumber))}return i}function i(e,t,n){var r=e.list,i=r[r.length-1];if(!(i[1]instanceof Array&&"para"===i[1][0]))if(t+1===n.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var o=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),o)}}var o="[*+-]|\\d+\\.",a=/[*+-]/,s=new RegExp("^( {0,3})("+o+")[ 	]+"),l="(?: {0,3}\\t| {4})";return function(o,l){function c(e){var t=a.exec(e[2])?["bulletlist"]:["numberlist"];return f.push({list:t,indent:e[1]}),t}var u=o.match(s);if(u){for(var h,d,f=[],p=c(u),g=!1,m=[f[0].list];;){for(var b=o.split(/(?=\n)/),y="",w="",_=0;_<b.length;_++){w="";var x=b[_].replace(/^\n/,function(e){return w=e,""}),C=e(f.length);if(u=x.match(C),void 0!==u[1]){y.length&&(n(h,g,this.processInline(y),w),g=!1,y=""),u[1]=t(u[1]);var S=Math.floor(u[1].length/4)+1;if(S>f.length)p=c(u),h.push(p),h=p[1]=["listitem"];else{var k=!1;for(d=0;d<f.length;d++)if(f[d].indent===u[1]){
p=f[d].list,f.splice(d+1,f.length-(d+1)),k=!0;break}k||(S++,S<=f.length?(f.splice(S,f.length-S),p=f[S-1].list):(p=c(u),h.push(p))),h=["listitem"],p.push(h)}w=""}x.length>u[0].length&&(y+=w+x.substr(u[0].length))}if(y.length){var E=this.processBlock(y,[]),T=E[0];T&&(T.shift(),E.splice.apply(E,[0,1].concat(T)),n(h,g,E,w),"\n"===h[h.length-1]&&h.pop(),g=!1,y="")}var O=r(f.length,l);O.length>0&&(v(f,i,this),h.push.apply(h,this.toTree(O,[])));var P=l[0]&&l[0].valueOf()||"";if(!P.match(s))break;o=l.shift();var j=this.dialect.block.horizRule.call(this,o,l);if(j){m.push.apply(m,j);break}f[f.length-1].indent===o.match(/^\s*/)[0]&&v(f,i,this),g=!0}return m}}}(),blockquote:function(e,t){var n=/(^|\n) +(\>[\s\S]*)/.exec(e);if(n&&n[2]&&n[2].length){var r=e.replace(/(^|\n) +\>/,"$1>");return t.unshift(r),[]}if(e.match(/^>/m)){var i=[];if(">"!==e[0]){for(var o=e.split(/\n/),a=[],s=e.lineNumber;o.length&&">"!==o[0][0];)a.push(o.shift()),s++;var l=f(a.join("\n"),"\n",e.lineNumber);i.push.apply(i,this.processBlock(l,[])),e=f(o.join("\n"),e.trailing,s)}for(;t.length&&">"===t[0][0];){var c=t.shift();e=f(e+e.trailing+c,c.trailing,e.lineNumber)}var u=e.replace(/^> ?/gm,""),h=(this.tree,this.toTree(u,["blockquote"])),d=p(h);return d&&d.references&&(delete d.references,b(d)&&h.splice(1,1)),i.push(h),i}},referenceDefn:function(e,t){var n=/^\s*\[([^\[\]]+)\]:\s*(\S+)(?:\s+(?:(['"])(.*)\3|\((.*?)\)))?\n?/;if(e.match(n)){var r=l.call(this),i=this.loop_re_over_block(n,e,function(e){c(r,e)});return i.length&&t.unshift(f(i,e.trailing)),[]}},para:function(e){return[["para"].concat(this.processInline(e))]}},inline:{__oneElement__:function(e,t,n){t=t||this.dialect.inline.__patterns__;var r=new RegExp(t.source||t),i=e.search(r);if(-1===i)return[e.length,e];if(0!==i)return[i,e.substring(0,i)];var o,a=new RegExp("^("+(t.source||t)+")"),s=a.exec(e);if(s[1]in this.dialect.inline&&(o=this.dialect.inline[s[1]].call(this,e.substr(s.index),s,n||[]),!o)){var l=this.dialect.inline[s[1][0]];l&&(o=l.call(this,e.substr(s.index),s,n||[]))}return o=o||[s[1].length,s[1]]},__call__:function(e,t){function n(e){"string"==typeof e&&"string"==typeof i[i.length-1]?i[i.length-1]+=e:i.push(e)}for(var r,i=[];e.length>0;)r=this.dialect.inline.__oneElement__.call(this,e,t,i),e=e.substr(r.shift()),v(r,n);return i},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}<>\[\]()#\+.!\-]/,"\\":function(e){return this.dialect.inline.__escape__.exec(e)?[2,e.charAt(1)]:[1,"\\"]},"![":function(e){if(!(e.indexOf("(")>=0&&-1===e.indexOf(")"))){var t=/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/;if(m=e.match(new RegExp("^!\\[(.*?)][ \\t]*\\(("+w+")\\)([ \\t])*([\"'].*[\"'])?"))||e.match(t),m&&-1!==m[2].indexOf(")]")&&(m=e.match(t)),m){m[2]&&"<"===m[2][0]&&">"===m[2][m[2].length-1]&&(m[2]=m[2].substring(1,m[2].length-1)),m[2]=this.dialect.inline.__call__.call(this,m[2],/\\/)[0];var n={alt:m[1],href:m[2]||""};return void 0!==m[4]&&(n.title=m[4]),[m[0].length,["img",n]]}return m=e.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),m?[m[0].length,["img_ref",{alt:m[1],ref:m[2].toLowerCase(),original:m[0]}]]:[2,"!["]}},"[":function x(e){for(var t=1,n=0;n<e.length;n++){var r=e.charAt(n);if("["===r&&t++,"]"===r&&t--,t>3)return[1,"["]}var i=String(e),o=y.call(this,e.substr(1),"]");if(!o[1])return[o[0]+1,e.charAt(0)].concat(o[2]);if(1==o[0])return[2,"[]"];var x,a,s=1+o[0],u=o[1];e=e.substr(s);var h=e.match(/^\s*\([ \t]*([^"'\s]*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(h){var d=h[1].replace(/\s+$/,"");if(s+=h[0].length,d&&"<"===d[0]&&">"===d[d.length-1]&&(d=d.substring(1,d.length-1)),!h[3])for(var f=1,p=0;p<d.length;p++)switch(d[p]){case"(":f++;break;case")":0===--f&&(s-=d.length-p,d=d.substring(0,p))}return d=this.dialect.inline.__call__.call(this,d,/\\/)[0],a={href:d||""},void 0!==h[3]&&(a.title=h[3]),x=["link",a].concat(u),[s,x]}if(0===e.indexOf("(")&&-1!==e.indexOf(")")&&(h=e.match(new RegExp("^\\(("+w+")\\)")),h&&h[1]))return s+=h[0].length,x=["link",{href:h[1]}].concat(u),[s,x];if(h=e.match(/^\s*\[(.*?)\]/),h&&(s+=h[0].length,a={ref:(h[1]||String(u)).toLowerCase(),original:i.substr(0,s)},u&&u.length>0))return x=["link_ref",a].concat(u),[s,x];if(h=i.match(/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/),h&&(/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i.test(h[2])||/(\/[\w~,;\-\.\/?%&+#=]*)/.test(h[2])))return a=l.call(this),c(a,h),[h[0].length];if(1===u.length&&"string"==typeof u[0]){var g=u[0].toLowerCase().replace(/\s+/," ");return a={ref:g,original:i.substr(0,s)},x=["link_ref",a,u[0]],[s,x]}return[1,"["]},"<":function(e){var t;return null!==(t=e.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:"mailto"===t[2]?[t[0].length,["link",{href:t[1]},t[1].substr("mailto:".length)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(e,t,n){if(!n||"string"!=typeof n[0]||!n[0].match(/<[^>]+$/)){var r=e.match(/(`+)(([\s\S]*?)\1)/);return r&&r[2]?[r[1].length+r[2].length,["inlinecode",r[3]]]:[1,"`"]}},"  \n":function(){return[3,["linebreak"]]}}};d.dialects.Gruber=_,d.buildBlockOrder(d.dialects.Gruber.block),d.buildInlinePatterns(d.dialects.Gruber.inline),e.Markdown=d,e.parse=d.parse,e.toHTML=d.toHTML,e.toHTMLTree=d.toHTMLTree,e.renderJsonML=d.renderJsonML,e.DialectHelpers=g}(function(){return window.BetterMarkdown={},window.BetterMarkdown}());var bootbox=window.bootbox||function(e,t){function n(e,t){return"undefined"==typeof t&&(t=r),"string"==typeof d[t][e]?d[t][e]:t!=i?n(e,i):e}var r="en",i="en",o=!0,a="static",s="javascript:;",l="",c={},u={},h={};h.setLocale=function(e){for(var t in d)if(t==e)return void(r=e);throw new Error("Invalid locale: "+e)},h.addLocale=function(e,t){"undefined"==typeof d[e]&&(d[e]={});for(var n in t)d[e][n]=t[n]},h.setIcons=function(e){u=e,("object"!=typeof u||null===u)&&(u={})},h.setBtnClasses=function(e){c=e,("object"!=typeof c||null===c)&&(c={})},h.alert=function(){var e="",t=n("OK"),r=null;switch(arguments.length){case 1:e=arguments[0];break;case 2:e=arguments[0],"function"==typeof arguments[1]?r=arguments[1]:t=arguments[1];break;case 3:e=arguments[0],t=arguments[1],r=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return h.dialog(e,{label:t,icon:u.OK,"class":c.OK,callback:r},{onEscape:r||!0})},h.confirm=function(){var e="",t=n("CANCEL"),r=n("CONFIRM"),i=null;switch(arguments.length){case 1:e=arguments[0];break;case 2:e=arguments[0],"function"==typeof arguments[1]?i=arguments[1]:t=arguments[1];break;case 3:e=arguments[0],t=arguments[1],"function"==typeof arguments[2]?i=arguments[2]:r=arguments[2];break;case 4:e=arguments[0],t=arguments[1],r=arguments[2],i=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4")}var o=function(){return"function"==typeof i?i(!1):void 0},a=function(){return"function"==typeof i?i(!0):void 0};return h.dialog(e,[{label:t,icon:u.CANCEL,"class":c.CANCEL,callback:o},{label:r,icon:u.CONFIRM,"class":c.CONFIRM,callback:a}],{onEscape:o})},h.prompt=function(){var e="",r=n("CANCEL"),i=n("CONFIRM"),o=null,a="";switch(arguments.length){case 1:e=arguments[0];break;case 2:e=arguments[0],"function"==typeof arguments[1]?o=arguments[1]:r=arguments[1];break;case 3:e=arguments[0],r=arguments[1],"function"==typeof arguments[2]?o=arguments[2]:i=arguments[2];break;case 4:e=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];break;case 5:e=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4];break;default:throw new Error("Incorrect number of arguments: expected 1-5")}var s=e,l=t("<form></form>");l.append("<input class='input-block-level' autocomplete=off type=text value='"+a+"' />");var d=function(){return"function"==typeof o?o(null):void 0},f=function(){return"function"==typeof o?o(l.find("input[type=text]").val()):void 0},p=h.dialog(l,[{label:r,icon:u.CANCEL,"class":c.CANCEL,callback:d},{label:i,icon:u.CONFIRM,"class":c.CONFIRM,callback:f}],{header:s,show:!1,onEscape:d});return p.on("shown",function(){l.find("input[type=text]").focus(),l.on("submit",function(e){e.preventDefault(),p.find(".btn-primary").click()})}),p.modal("show"),p},h.dialog=function(n,r,i){function c(e){var t=null;"function"==typeof i.onEscape&&(t=i.onEscape()),t!==!1&&S.modal("hide")}var u="",d=[];i||(i={}),"undefined"==typeof r?r=[]:"undefined"==typeof r.length&&(r=[r]);for(var f=r.length;f--;){var p=null,g=null,m=null,v="",b=null;if("undefined"==typeof r[f].label&&"undefined"==typeof r[f]["class"]&&"undefined"==typeof r[f].callback){var y=0,w=null;for(var _ in r[f])if(w=_,++y>1)break;1==y&&"function"==typeof r[f][_]&&(r[f].label=w,r[f].callback=r[f][_])}"function"==typeof r[f].callback&&(b=r[f].callback),r[f]["class"]?m=r[f]["class"]:f==r.length-1&&r.length<=2&&(m="btn-primary"),r[f].link!==!0&&(m="btn "+m),p=r[f].label?r[f].label:"Option "+(f+1),r[f].icon&&(v="<i class='"+r[f].icon+"'></i> "),g=r[f].href?r[f].href:s,u=u+"<a data-handler='"+f+"' class='"+m+"' href='"+g+"'>"+v+p+"</a>",d[f]=b}var x=["<div class='bootbox modal' tabindex='-1' style='overflow:hidden;'>"];if(i.header){var C="";("undefined"==typeof i.headerCloseButton||i.headerCloseButton)&&(C="<a href='"+s+"' class='close'>&times;</a>"),x.push("<div class='modal-header'>"+C+"<h3>"+i.header+"</h3></div>")}x.push("<div class='modal-body'></div>"),u&&x.push("<div class='modal-footer'>"+u+"</div>"),x.push("</div>");var S=t(x.join("\n")),k="undefined"==typeof i.animate?o:i.animate;k&&S.addClass("fade");var E="undefined"==typeof i.classes?l:i.classes;return E&&S.addClass(E),S.find(".modal-body").html(n),S.on("keyup.dismiss.modal",function(e){27===e.which&&i.onEscape!==!1&&c("escape")}),S.on("click","a.close",function(e){e.preventDefault(),c("close")}),S.on("shown.bs.modal",function(){S.find("a.btn-primary:first").focus()}),S.on("hidden.bs.modal",function(){S.remove()}),S.on("click",".modal-footer a",function(e){var n=this;Ember.run(function(){var i=t(n).data("handler"),o=d[i],a=null;("undefined"==typeof i||"undefined"==typeof r[i].href)&&(e.preventDefault(),"function"==typeof o&&(a=o(e)),a!==!1&&S.modal("hide"))})}),(h.$body||t("body")).append(S),S.modal({backdrop:"undefined"==typeof i.backdrop?a:i.backdrop,keyboard:!1,show:!1}),S.on("show",function(n){t(e).off("focusin.modal")}),("undefined"==typeof i.show||i.show===!0)&&S.modal("show"),S},h.modal=function(){var e,n,r,i={onEscape:null,keyboard:!0,backdrop:a};switch(arguments.length){case 1:e=arguments[0];break;case 2:e=arguments[0],"object"==typeof arguments[1]?r=arguments[1]:n=arguments[1];break;case 3:e=arguments[0],n=arguments[1],r=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return i.header=n,r="object"==typeof r?t.extend(i,r):i,h.dialog(e,[],r)},h.hideAll=function(){t(".bootbox").modal("hide")},h.animate=function(e){o=e},h.backdrop=function(e){a=e},h.classes=function(e){l=e};var d={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return h}(document,window.jQuery);window.bootbox=bootbox,!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){r.trigger("closed").remove()}var r,i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r=e(o),t&&t.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(t=e.Event("close")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.on(e.support.transition.end,n):n())},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof t&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.parent('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new t(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";function t(){e(n).parent().removeClass("open")}var n='[data-toggle="dropdown"]',r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(n){var r,i,o,a=e(this);if(!a.is(".disabled, :disabled"))return i=a.attr("data-target"),i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),r=e(i),r.length||(r=a.parent()),o=r.hasClass("open"),t(),o||r.toggleClass("open"),!1}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e(function(){e("html").on("click.dropdown.data-api",t),e("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",n,r.prototype.toggle)})}(window.jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function r(e){function t(e){return z[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function i(e,t){for(var n=0,r=t.length;r>n;n+=1)if(a(e,t[n]))return n;return-1}function o(){var t=e(H);t.appendTo(document.body);var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function a(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function s(e,t,n){var r,i,o;if(null===e||e.length<1)return[];for(r=e.split(t),i=0,o=r.length;o>i;i+=1)r[i]=n(r[i]);return r}function l(e){return e.outerWidth(!1)-e.width()}function c(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var r=M;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function h(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function d(e,t){var n=h(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}function f(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],r=e.val().length;e.focus();var i=n.offsetWidth>0||n.offsetHeight>0;i&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function p(t){t=e(t)[0];var n=0,r=0;if("selectionStart"in t)n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}function g(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!R){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);R=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),R.attr("class","select2-sizer"),e(document.body).append(R)}return R.text(t.val()),R.width()}function b(t,n,r){var i,o,a=[];i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),i=e.trim(n.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=r(this),o&&a.push(o))})),t.attr("class",a.join(" "))}function y(e,t,n,i){var o=r(e.toUpperCase()).indexOf(r(t.toUpperCase())),a=t.length;return 0>o?void n.push(i(e)):(n.push(i(e.substring(0,o))),n.push("<span class='select2-match'>"),n.push(i(e.substring(o,o+a))),n.push("</span>"),void n.push(i(e.substring(o+a,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function _(n){var r,i=null,o=n.quietMillis||100,a=n.url,s=this;return function(l){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,o=a,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},h=e.extend({},e.fn.select2.ajaxDefaults.params,u);r=r?r.call(s,l.term,l.page,l.context):null,o="function"==typeof o?o.call(s,l.term,l.page,l.context):o,i&&"function"==typeof i.abort&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(h,n.params.call(s)):e.extend(h,n.params)),e.extend(h,{url:o,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,l.page,l);l.callback(t)},error:function(e,t,n){var r={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};l.callback(r)}}),i=c.call(s,h)},o)}}function x(t){var n,r,i=t,o=function(e){return""+e.text};e.isArray(i)&&(r=i,i={results:r}),e.isFunction(i)===!1&&(r=i,i=function(){return r});var a=i();return a.text&&(o=a.text,e.isFunction(o)||(n=a.text,o=function(e){return e[n]})),function(t){var n,r=t.term,a={results:[]};return""===r?void t.callback(i()):(n=function(i,a){var s,l;if(i=i[0],i.children){s={};for(l in i)i.hasOwnProperty(l)&&(s[l]=i[l]);s.children=[],e(i.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(r,o(s),i))&&a.push(s)}else t.matcher(r,o(i),i)&&a.push(i)},e(i().results).each2(function(e,t){n(t,a.results)}),void t.callback(a))}}function C(n){var r=e.isFunction(n);return function(i){var o=i.term,a={results:[]},s=r?n(i):n;e.isArray(s)&&(e(s).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||i.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),i.callback(a))}}function S(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function k(t,n){if(e.isFunction(t)){var r=Array.prototype.slice.call(arguments,2);return t.apply(n,r)}return t}function E(t){var n=0;return e.each(t,function(e,t){t.children?n+=E(t.children):n++}),n}function T(e,n,r,i){var o,s,l,c,u,h=e,d=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(s=-1,l=0,c=i.tokenSeparators.length;c>l&&(u=i.tokenSeparators[l],s=e.indexOf(u),!(s>=0));l++);if(0>s)break;if(o=e.substring(0,s),e=e.substring(s+u.length),o.length>0&&(o=i.createSearchChoice.call(this,o,n),o!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o))){for(d=!1,l=0,c=n.length;c>l;l++)if(a(i.id(o),i.id(n[l]))){d=!0;break}d||r(o)}}return h!==e?e:void 0}function O(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function P(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2===t){var j,A,I,D,R,N,F,M={x:0,y:0},L={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case L.LEFT:case L.RIGHT:case L.UP:case L.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case L.SHIFT:case L.CTRL:case L.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},H="<div class='select2-measure-scrollbar'></div>",z={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g",
"ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};N=e(document),D=function(){var e=1;return function(){return e++}}(),j=P(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,a=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+D()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e(document.body),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(k(n.containerCss,this.opts.element)),this.container.addClass(k(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=r=this.container.find(a),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),u(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var o=r.scrollTop();i>0&&0>=o-i?(r.scrollTop(0),g(e)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),g(e))}),c(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.lastSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===t&&(s=!1),this.enable(!s);var l=n.element.prop("readonly");l===t&&(l=!1),this.readonly(l),F=F||o(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),r=this;this.close(),e.length&&e[0].detachEvent&&r._sync&&e.each(function(){r._sync&&this.detachEvent("onpropertychange",r._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeData("select2").off(".select2"),e.is("input[type='hidden']")?e.css("display",""):(e.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())),O.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var r,i,o,l,c=this;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n.debug=n.debug||e.fn.select2.defaults.debug,n.debug&&console&&console.warn&&(null!=n.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=n.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=n.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=n.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=n.ajax&&null!=n.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=n.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=n.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=n.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=n.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=n.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=n.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),n.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=n.element.data("tags")){var u=n.element.data("tags");e.isArray(u)||(u=[]),n.element.data("select2Tags",u)}if(null!=n.sorter&&(n.sortResults=n.sorter),null!=n.selectOnClose&&(n.selectOnBlur=n.selectOnClose),null!=n.ajax&&e.isFunction(n.ajax.processResults)&&(n.ajax.results=n.ajax.processResults),null!=n.language){var h=n.language;e.isFunction(h.noMatches)&&(n.formatNoMatches=h.noMatches),e.isFunction(h.searching)&&(n.formatSearching=h.searching),e.isFunction(h.inputTooShort)&&(n.formatInputTooShort=h.inputTooShort),e.isFunction(h.inputTooLong)&&(n.formatInputTooLong=h.inputTooLong),e.isFunction(h.loadingMore)&&(n.formatLoading=h.loadingMore),e.isFunction(h.maximumSelected)&&(n.formatSelectionTooBig=h.maximumSelected)}if(n=e.extend({},{populateResults:function(r,i,o){var a,s=this.opts.id,l=this.liveRegion;(a=function(r,i,u){var h,d,f,p,g,m,v,b,y,w;r=n.sortResults(r,i,o);var _=[];for(h=0,d=r.length;d>h;h+=1)f=r[h],g=f.disabled===!0,p=!g&&s(f)!==t,m=f.children&&f.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(f)),v.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+D()),b.attr("role","option"),w=n.formatResult(f,b,o,c.opts.escapeMarkup),w!==t&&(b.html(w),v.append(b)),m&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),a(f.children,y,u+1),v.append(y)),v.data("select2-data",f),_.push(v[0]);i.append(_),l.text(n.formatMatches(r.length))})(i,r,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(e){return e[o]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(e){var n,i,o,a={results:[],more:!1},s=e.term;o=function(t,n){var r;t.is("option")?e.matcher(s,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(r=c.optionToData(t),t.children().each2(function(e,t){o(t,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==t&&n.length>0&&(i=this.getPlaceholderOption(),i&&(n=n.not(i))),n.each2(function(e,t){o(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=_.call(n.element,n.ajax)):"data"in n?n.query=x(n.data):"tags"in n&&(n.query=C(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(s(t.val(),n.separator,n.transformVal)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){return a(this.id,t.id)?(t=this,!1):void 0}),i.push(t)}),r(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,r=this.opts.element,i=this;r.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=r.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=r.prop("readonly");n===t&&(n=!1),this.readonly(n),this.container&&(b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(k(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(this.opts.dropdownCssClass,this.opts.element)))}),r.length&&r[0].attachEvent&&r.each(function(){this.attachEvent("onpropertychange",i._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,i._sync)}),this.propertyObserver.observe(r.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,n,r,i,o,a=this.dropdown,s=this.container,l=s.offset(),c=s.outerHeight(!1),u=s.outerWidth(!1),h=a.outerHeight(!1),d=e(window),f=d.width(),p=d.height(),g=d.scrollLeft()+f,m=d.scrollTop()+p,v=l.top+c,b=l.left,y=m>=v+h,w=l.top-h>=d.scrollTop(),_=a.outerWidth(!1),x=function(){return g>=b+_},C=function(){return l.left+g+s.outerWidth(!1)>_},S=a.hasClass("select2-drop-above");S?(n=!0,!w&&y&&(r=!0,n=!1)):(n=!1,!y&&w&&(r=!0,n=!0)),r&&(a.hide(),l=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),h=a.outerHeight(!1),g=d.scrollLeft()+f,m=d.scrollTop()+p,v=l.top+c,b=l.left,_=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),_=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:F.width),_>u?u=_:_=u,h=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),v-=t.top,b-=t.left),!x()&&C()&&(b=l.left+this.container.outerWidth(!1)-_),i={left:b,width:u},n?(this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above"),h=a.outerHeight(!1),i.top=l.top-h,i.bottom="auto"):(i.top=v,i.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),i=e.extend(i,k(this.opts.dropdownCss,this.opts.element)),a.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),N.on("mousemove.select2Event",function(e){M.x=e.pageX,M.y=e.pageY}),!0):!1},opening:function(){var t,r=this.containerEventName,i="scroll."+r,o="resize."+r,a="orientationchange."+r;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0===t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(r){n(t);var i,o=e("#select2-drop");o.length>0&&(i=o.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),r.preventDefault(),r.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+i+" "+a,function(e){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),N.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var e=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return e!==t?(this.search.val(e),this.search.select(),!0):!1},getMaximumSelectionSize:function(){return k(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,r,i,o,a,s,l,c=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void c.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),r=e(t[n]),l=(r.offset()||{}).top||0,i=l+r.outerHeight(!0),n===t.length-1&&(s=c.find("li.select2-more-results"),s.length>0&&(i=s.offset().top+s.outerHeight(!0))),o=c.offset().top+c.outerHeight(!1),i>o&&c.scrollTop(c.scrollTop()+(i-o)),a=l-c.offset().top,0>a&&"none"!=r.css("display")&&c.scrollTop(c.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n,r,o=this.findHighlightableChoices();return 0===arguments.length?i(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),n=e(o[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),r=n.data("select2-data"),void(r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),r=this.resultsPage+1,i=this,o=this.search.val(),a=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:r,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){i.opened()&&(i.opts.populateResults.call(this,t,e.results,{term:o,page:r,context:a}),i.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).html(i.opts.escapeMarkup(k(i.opts.formatLoadMore,i.opts.element,r+1))),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r,i.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function r(){c.removeClass("select2-active"),d.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(u.text()):d.liveRegion.text(d.opts.formatMatches(u.find('.select2-result-selectable:not(".select2-selected")').length))}function i(e){u.html(e),r()}var o,s,l,c=this.search,u=this.results,h=this.opts,d=this,f=c.val(),p=e.data(this.container,"select2-last-term");if((n===!0||!p||!a(f,p))&&(e.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(o=this.data(),e.isArray(o)&&o.length>=g&&S(h.formatSelectionTooBig,"formatSelectionTooBig")))return void i("<li class='select2-selection-limit'>"+k(h.formatSelectionTooBig,h.element,g)+"</li>");if(c.val().length<h.minimumInputLength)return i(S(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+k(h.formatInputTooShort,h.element,c.val(),h.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return void i(S(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+k(h.formatInputTooLong,h.element,c.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+k(h.formatSearching,h.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=t&&null!=s&&c.val(s),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(o){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(o.hasError!==t&&S(h.formatAjaxError,"formatAjaxError"))return void i("<li class='select2-ajax-error'>"+k(h.formatAjaxError,h.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(s=this.opts.createSearchChoice.call(d,c.val(),o.results),s!==t&&null!==s&&d.id(s)!==t&&null!==d.id(s)&&0===e(o.results).filter(function(){return a(d.id(this),d.id(s))}).length&&this.opts.createSearchChoicePosition(o.results,s)),0===o.results.length&&S(h.formatNoMatches,"formatNoMatches"))return i("<li class='select2-no-results'>"+k(h.formatNoMatches,h.element,c.val())+"</li>"),void(this.showSearch&&this.showSearch(c.val()));u.empty(),d.opts.populateResults.call(this,u,o.results,{term:c.val(),page:this.resultsPage,context:null}),o.more===!0&&S(h.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+h.escapeMarkup(k(h.formatLoadMore,h.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),r(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(t),this.onSelect(r,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function t(){var t,n,r,i,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(t=this.opts.element.attr("style"),"string"==typeof t)for(n=t.split(";"),i=0,o=n.length;o>i;i+=1)if(a=n[i].replace(/\s/g,""),r=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(t=this.opts.element.css("width"),t.indexOf("%")>0?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=t.call(this);null!==n&&this.container.css("width",n)}}),A=P(j,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,n,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),t=this.search.get(0),t.createTextRange?(n=t.createTextRange(),n.collapse(!1),n.select()):t.setSelectionRange&&(r=this.search.val().length,t.setSelectionRange(r,r))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),O.call(this,"selection","focusser")},initContainer:function(){var t,r,i=this.container,o=this.dropdown,a=D();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),r=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(r.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||r.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===L.PAGE_UP||e.which===L.PAGE_DOWN)return void g(e);switch(e.which){case L.UP:case L.DOWN:return this.moveHighlight(e.which===L.UP?-1:1),void g(e);case L.ENTER:return this.selectHighlighted(),void g(e);case L.TAB:return void this.selectHighlighted({noFocus:!0});case L.ESC:return this.cancel(e),void g(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==L.TAB&&!L.isControl(e)&&!L.isFunctionKey(e)&&e.which!==L.ESC){if(this.opts.openOnEnter===!1&&e.which===L.ENTER)return void g(e);if(e.which==L.DOWN||e.which==L.UP||e.which==L.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void g(e)}return e.which==L.DELETE||e.which==L.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(r){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(r)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus();
})),t.on("focus",this.bind(function(e){g(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.lastSearchTerm=e.search.val())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),o=null;t.query({matcher:function(e,n,r){var s=a(i,t.id(r));return s&&(o=r),s},callback:e.isFunction(r)?function(){r(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var r=0,i=this;if(this.findHighlightableChoices().each2(function(e,t){return a(i.id(t.data("select2-data")),i.opts.element.val())?(r=e,!1):void 0}),n!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0)),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(E(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),a(n,this.id(e))||this.triggerChange({added:e,removed:r})}},updateSelection:function(e){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(n=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),n!==t&&i.append(n),r=this.opts.formatSelectionCssClass(e,i),r!==t&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r),void 0)}}),I=P(j,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=s(n.val(),t.separator,t.transformVal),o=[];t.query({matcher:function(n,r,s){var l=e.grep(i,function(e){return a(e,t.id(s))}).length;return l&&o.push(s),l},callback:e.isFunction(r)?function(){for(var e=[],n=0;n<i.length;n++)for(var s=i[n],l=0;l<o.length;l++){var c=o[l];if(a(s,t.id(c))){e.push(c),o.splice(l,1);break}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),O.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var r=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(t){r.search[0].focus(),r.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+D()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),r=n.prev(".select2-search-choice:not(.select2-locked)"),i=n.next(".select2-search-choice:not(.select2-locked)"),o=p(this.search);if(n.length&&(e.which==L.LEFT||e.which==L.RIGHT||e.which==L.BACKSPACE||e.which==L.DELETE||e.which==L.ENTER)){var a=n;return e.which==L.LEFT&&r.length?a=r:e.which==L.RIGHT?a=i.length?i:null:e.which===L.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),a=r.length?r:i):e.which==L.DELETE?this.unselect(n.first())&&(this.search.width(10),a=i.length?i:null):e.which==L.ENTER&&(a=null),this.selectChoice(a),g(e),void(a&&a.length||this.open())}if((e.which===L.BACKSPACE&&1==this.keydowns||e.which==L.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void g(e);if(this.selectChoice(null),this.opened())switch(e.which){case L.UP:case L.DOWN:return this.moveHighlight(e.which===L.UP?-1:1),void g(e);case L.ENTER:return this.selectHighlighted(),void g(e);case L.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case L.ESC:return this.cancel(e),void g(e)}if(e.which!==L.TAB&&!L.isControl(e)&&!L.isFunctionKey(e)&&e.which!==L.BACKSPACE&&e.which!==L.ESC){if(e.which===L.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===L.PAGE_UP||e.which===L.PAGE_DOWN)&&g(e),e.which===L.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n={},r=[],i=this;e(t).each(function(){i.id(this)in n||(n[i.id(this)]=0,r.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(r),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var n=this.getVal(),r=this;e(t).each(function(){n.push(r.createChoice(this))}),this.setVal(n)},createChoice:function(n){var r,i,o=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?a:s,c=this.id(n);return r=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),r!=t&&l.find("div").replaceWith(e("<div></div>").html(r)),i=this.opts.formatSelectionCssClass(n,l.find("div")),i!=t&&l.addClass(i),o&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),c},unselect:function(t){var n,r,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var a=e.Event("select2-removing");if(a.val=this.id(n),a.choice=n,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(r=i(this.id(n),o))>=0;)o.splice(r,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var r=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),s=this;o.each2(function(e,t){var n=s.id(t.data("select2-data"));i(n,r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&this.opts.closeOnSelect===!0&&s.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&S(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+k(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,n,r,i,o=l(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-o,e>i&&(i=n-o),40>i&&(i=n-o),0>=i&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),s(e,this.opts.separator,this.opts.transformVal))},setVal:function(t){if(this.select)this.select.val(t);else{var n=[],r={};e(t).each(function(){this in r||(n.push(this),r[this]=0)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator))}},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var r=0;r<e.length;r++)if(a(this.opts.id(t[n]),this.opts.id(e[r]))){t.splice(n,1),n--,e.splice(r,1);break}return{added:t,removed:e}},val:function(n,r){var i,o=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(r&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),r&&o.triggerChange(o.buildChangeDetails(i,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r,i,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(i=this.data(),t||(t=[]),r=e.map(t,function(e){return o.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),e.fn.select2=function(){var n,r,o,a,s,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],h=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),r=s?new window.Select2["class"].multi:new window.Select2["class"].single,r.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(i(l[0],c)<0)throw"Unknown method: "+l[0];if(a=t,r=e(this).data("select2"),r===t)return;if(o=l[0],"container"===o?a=r.container:"dropdown"===o?a=r.dropdown:(d[o]&&(o=d[o]),a=r[o].apply(r,l.slice(1))),i(l[0],u)>=0||i(l[0],h)>=0&&1==l.length)return!1}}),a===t?this:a},e.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return y(this.text(e),n.term,i,r),i.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,n,r){return e?r(this.text(e)):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,n){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return r(""+t).toUpperCase().indexOf(r(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,n){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:_,local:x,tags:C},util:{debounce:h,markMatch:y,escapeMarkup:w,stripDiacritics:r},"class":{"abstract":j,single:A,multi:I}}}}(jQuery);var div,endDrag,grip,lastMousePos,min,mousePosition,originalDivHeight,originalPos,performDrag,startDrag,wrappedEndDrag,wrappedPerformDrag;div=void 0,originalPos=void 0,originalDivHeight=void 0,lastMousePos=0,min=230,grip=void 0,wrappedEndDrag=void 0,wrappedPerformDrag=void 0,startDrag=function(e,t){return div=$(e.data.el),div.addClass("clear-transitions"),div.blur(),lastMousePos=mousePosition(e).y,originalPos=lastMousePos,originalDivHeight=div.height(),wrappedPerformDrag=function(){return function(e){return performDrag(e,t)}}(),wrappedEndDrag=function(){return function(e){return endDrag(e,t)}}(),$(document).mousemove(wrappedPerformDrag).mouseup(wrappedEndDrag),!1},performDrag=function(e,t){var n,r,i;i=mousePosition(e).y,n=originalDivHeight+(originalPos-i),lastMousePos=i;var o=$(window).height();return t.maxHeight&&(o=t.maxHeight(o)),n=Math.min(n,o),n=Math.max(min,n),r=n+"px","function"==typeof t.onDrag&&t.onDrag(r),div.height(r),min>n&&endDrag(e,t),!1},endDrag=function(e,t){$(document).unbind("mousemove",wrappedPerformDrag).unbind("mouseup",wrappedEndDrag),div.removeClass("clear-transitions"),div.focus(),"function"==typeof t.resize&&t.resize(),div=null},mousePosition=function(e){return{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},$.fn.DivResizer=function(e){return this.each(function(){var t,n,r;div=$(this),div.hasClass("processed")||(div.addClass("processed"),r=null,n=function(){return function(t){return startDrag(t,e)}},t=div.prepend("<div class='grippie'></div>").find(".grippie").bind("mousedown",{el:this},n()))})};var clone,getCaret;getCaret=function(e){var t,n,r;return e.selectionStart?e.selectionStart:document.selection?(e.focus(),(t=document.selection.createRange())?(r=e.createTextRange(),n=r.duplicate(),r.moveToBookmark(t.getBookmark()),n.setEndPoint("EndToStart",r),n.text.length):0):0},clone=null,$.fn.caret=function(){return getCaret(this[0])},$.fn.caretPosition=function(e){var t,n,r,i,o,a,s,l,c,u,h,d,f,p,g,m;return clone&&clone.remove(),f=$("#pos span"),g=$(this),r=function(e){return e.currentStyle?e.currentStyle:document.defaultView.getComputedStyle(e,"")},p=r(g[0]),clone=$("<div><p></p></div>").appendTo("body"),u=clone.find("p"),clone.width(g.width()),clone.height(g.height()),a=function(e){return p.getPropertyValue(e)},clone.css({border:"1px solid black",padding:a("padding"),resize:a("resize"),"max-height":g.height()+"px","overflow-y":"auto","word-wrap":"break-word",position:"absolute",left:"-7000px"}),u.css({margin:0,padding:0,"word-wrap":"break-word","letter-spacing":a("letter-spacing"),"font-family":a("font-family"),"font-size":a("font-size"),"line-height":a("line-height")}),d=e&&(e.pos||0===e.pos)?e.pos:getCaret(g[0]),m=g.val().replace("\r",""),e&&e.key&&(m=m.substring(0,d)+e.key+m.substring(d)),n=d-1,t=d,s=!1,"\n"===m[n]&&"\n"===m[t]&&(s=!0),i=function(e){var t;return t=e.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/[ ]/g,"&#x200b;&nbsp;&#x200b;"),t.replace(/\n/g,"<br />")},c=function(e,t,n){var r;return r=m.substring(e,e+1),"\n"===r?"<br>":"<span class='"+t+"' style='background-color:"+n+"; margin:0; padding: 0'>"+i(r)+"</span>"},o="",n>=0&&(o+=i(m.substring(0,d-1))+c(n,"before","#d0ffff"),s&&(o+=c(0,"post-before","#d0ffff"))),t>=0&&(o+=c(t,"after","#ffd0ff"),t-1<m.length&&(o+=i(m.substring(t+1)))),u.html(o),clone.scrollTop(g.scrollTop()),l=u.find("span:first"),d=l.offset(),l.hasClass("before")&&(d.left=d.left+l.width()),h=u.offset(),{left:d.left-h.left,top:d.top-h.top-clone.scrollTop()}},function(){function e(e){this.icon=e,this.opacity=.4,this.canvas=document.createElement("canvas"),this.font="Helvetica, Arial, sans-serif"}function t(e){return e=Math.round(e),isNaN(e)||1>e?"":10>e?" "+e:e>99?"99":e}function n(e,t,n,r,i){var o,a,s,l,c,u,h,d=document.getElementsByTagName("head")[0],f=document.createElement("link");f.rel="icon",o=r.width/16,a=11*o,l=o,c=11*o,u=o,h=2*o,e.height=e.width=r.width,s=e.getContext("2d"),s.font="bold "+a+"px "+n,i&&(s.globalAlpha=t),s.drawImage(r,0,0),s.globalAlpha=1,s.shadowColor="#FFF",s.shadowBlur=h,s.shadowOffsetX=0,s.shadowOffsetY=0,s.fillStyle="#FFF",s.fillText(i,l,c),s.fillText(i,l+u,c),s.fillText(i,l,c+u),s.fillText(i,l+u,c+u),s.fillStyle="#000",s.fillText(i,l+u/2,c+u/2),f.href=e.toDataURL("image/png"),d.removeChild(document.querySelector("link[rel=icon]")),d.appendChild(f)}e.prototype.set=function(e){var r=this,i=document.createElement("img");Ember.testing||r.canvas.getContext&&(i.crossOrigin="anonymous",i.onload=function(){n(r.canvas,r.opacity,r.font,i,t(e))},i.src=this.icon)},e.VERSION="1.5.0",this.Favcount=e}.call(this),function(e,t,n){function r(){i=t[s](function(){o.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,c);(n!==i.w||r!==i.h)&&t.trigger(l,[i.w=n,i.h=r])}),r()},a[u])}var i,o=e([]),a=e.resize=e.extend(e.resize,{}),s="setTimeout",l="resize",c=l+"-special-event",u="delay",h="throttleWindow";a[u]=250,a[h]=!0,e.event.special[l]={setup:function(){if(!a[h]&&this[s])return!1;var t=e(this);o=o.add(t),e.data(this,c,{w:t.width(),h:t.height()}),1===o.length&&r()},teardown:function(){if(!a[h]&&this[s])return!1;var t=e(this);o=o.not(t),t.removeData(c),o.length||clearTimeout(i)},add:function(t){function r(t,r,o){var a=e(this),s=e.data(this,c);s.w=r!==n?r:a.width(),s.h=o!==n?o:a.height(),i.apply(this,arguments)}if(!a[h]&&this[s])return!1;var i;return e.isFunction(t)?(i=t,r):(i=t.handler,void(t.handler=r))}}}(jQuery,this),function(e,t){function n(e,t,n){var r=h[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function r(t){var n=c(),r=n._rgba=[];return t=t.toLowerCase(),p(l,function(e,i){var o,a=i.re.exec(t),s=a&&i.parse(a),l=i.space||"rgba";return s?(o=n[l](s),n[u[l].cache]=o[u[l].cache],r=n._rgba=o._rgba,!1):void 0}),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),n):o[t]}function i(e,t,n){return n=(n+1)%1,1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},f=e("<p>")[0],p=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(i,a,s,l){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(a),a=t);var h=this,d=e.type(i),f=this._rgba=[];return a!==t&&(i=[i,a,s,l],d="array"),"string"===d?this.parse(r(i)||o._default):"array"===d?(p(u.rgba.props,function(e,t){f[t.idx]=n(i[t.idx],t)}),this):"object"===d?(i instanceof c?p(u,function(e,t){i[t.cache]&&(h[t.cache]=i[t.cache].slice())}):p(u,function(t,r){var o=r.cache;p(r.props,function(e,t){if(!h[o]&&r.to){if("alpha"===e||null==i[e])return;h[o]=r.to(h._rgba)}h[o][t.idx]=n(i[e],t,!0)}),h[o]&&e.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,r.from&&(h._rgba=r.from(h[o])))}),this):void 0},is:function(e){var t=c(e),n=!0,r=this;return p(u,function(e,i){var o,a=t[i.cache];return a&&(o=r[i.cache]||i.to&&i.to(r._rgba)||[],p(i.props,function(e,t){return null!=a[t.idx]?n=a[t.idx]===o[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return p(u,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var r=c(e),i=r._space(),o=u[i],a=0===this.alpha()?c("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return r=r[o.cache],p(o.props,function(e,i){var o=i.idx,a=s[o],c=r[o],u=h[i.type]||{};null!==c&&(null===a?l[o]=c:(u.mod&&(c-a>u.mod/2?a+=u.mod:a-c>u.mod/2&&(a-=u.mod)),l[o]=n((c-a)*t+a,i)))}),this[i](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=c(t)._rgba;return c(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,function(e,t){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(r,i,o),l=Math.min(r,i,o),c=s-l,u=s+l,h=.5*u;return t=l===s?0:r===s?60*(i-o)/c+360:i===s?60*(o-r)/c+120:60*(r-i)/c+240,n=0===h||1===h?h:.5>=h?c/u:c/(2-u),[Math.round(t)%360,n,h,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],o=e[3],a=.5>=r?r*(1+n):r+n-r*n,s=2*r-a;
return[Math.round(255*i(s,a,t+1/3)),Math.round(255*i(s,a,t)),Math.round(255*i(s,a,t-1/3)),o]},p(u,function(r,i){var o=i.props,a=i.cache,l=i.to,u=i.from;c.fn[r]=function(r){if(l&&!this[a]&&(this[a]=l(this._rgba)),r===t)return this[a].slice();var i,s=e.type(r),h="array"===s||"object"===s?r:arguments,d=this[a].slice();return p(o,function(e,t){var r=h["object"===s?e:t.idx];null==r&&(r=d[t.idx]),d[t.idx]=n(r,t)}),u?(i=c(u(d)),i[a]=d,i):c(d)},p(o,function(t,n){c.fn[t]||(c.fn[t]=function(i){var o,a=e.type(i),l="alpha"===t?this._hsla?"hsla":"rgba":r,c=this[l](),u=c[n.idx];return"undefined"===a?u:("function"===a&&(i=i.call(this,u),a=e.type(i)),null==i&&n.empty?this:("string"===a&&(o=s.exec(i),o&&(i=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=i,this[l](c)))})})}),c.hook=function(t){var n=t.split(" ");p(n,function(t,n){e.cssHooks[n]={set:function(t,i){var o,a,s="";if("string"!==e.type(i)||(o=r(i))){if(i=c(o||i),!d.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(i){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(e){e.cookie=function(t,n,r){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(n))||null===n||void 0===n)){if(r=e.extend({},r),(null===n||void 0===n)&&(r.expires=-1),"number"==typeof r.expires){var i=r.expires,o=r.expires=new Date;o.setDate(o.getDate()+i)}return n=String(n),document.cookie=[encodeURIComponent(t),"=",r.raw?n:encodeURIComponent(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=n||{};for(var a,s=r.raw?function(e){return e}:decodeURIComponent,l=document.cookie.split("; "),c=0;a=l[c]&&l[c].split("=");c++)if(s(a[0])===t)return s(a[1]||"");return null}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var n="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var i=r.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){return t.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||r>n)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r,i=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&i-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=i,r=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=r-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=r,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(i,r,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,r=this,i=t.files[0],o=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,function(r,i){n.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||a,value:i})})):(r._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(a,t.blob,i.name):e.each(t.files,function(i,o){(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o))&&n.append("array"===e.type(t.paramName)&&t.paramName[i]||a,o,o.uploadName||o.name)})),t.data=n):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),o=i.promise();return n=n||this.options.context||o,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),o.abort=i.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(t,o)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r,i,o=this,a=t.files[0],s=a.size,l=t.uploadedBytes,c=t.maxChunkSize||s,u=this._blobSlice,h=e.Deferred(),d=h.promise();return this._isXHRUpload(t)&&u&&(l||s>c)&&!t.data?n?!0:l>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(i=function(){var n=e.extend({},t),d=n._progress.loaded;n.blob=u.call(a,l,l+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),r=(o._trigger("chunksend",null,n)!==!1&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(r,a,c){l=o._getUploadedBytes(c)||l+n.chunkSize,d+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=r,n.textStatus=a,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),s>l?i():h.resolveWith(n.context,[r,a,c])}).fail(function(e,t,r){n.jqXHR=e,n.textStatus=t,n.errorThrown=r,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),h.rejectWith(n.context,[e,t,r])})},this._enhancePromise(d),d.abort=function(){return r.abort()},i(),d):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var o=i._progress.total,a=i._response;i._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),i),a.result=i.result=t,a.textStatus=i.textStatus=n,a.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r,i,o,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,r=r||((i||s._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&s._getXHRPromise(!1,l.context,i)||s._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){s._onDone(e,t,n,l)}).fail(function(e,t,n){s._onFail(e,t,n,l)}).always(function(e,t,n){if(s._onAlways(e,t,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var r=s._slots.shift();r;){if("pending"===s._getDeferredState(r)){r.resolve();break}r=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.pipe(c)):(this._sequence=this._sequence.pipe(c,c),a=this._sequence),a.abort=function(){return i=[void 0,"abort","abort"],r?r.abort():(o&&o.rejectWith(l.context,i),c())},this._enhancePromise(a)):c()},_onAdd:function(t,n){var r,i,o,a,s=this,l=!0,c=e.extend({},this.options,n),u=n.files,h=u.length,d=c.limitMultiFileUploads,f=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(c),v=0;if(!f||h&&void 0!==u[0].size||(f=void 0),(c.singleFileUploads||d||f)&&this._isXHRUpload(c))if(c.singleFileUploads||f||!d)if(!c.singleFileUploads&&f)for(o=[],r=[],a=0;h>a;a+=1)g+=u[a].size+p,(a+1===h||g+u[a+1].size+p>f||d&&a+1-v>=d)&&(o.push(u.slice(v,a+1)),i=m.slice(v,a+1),i.length||(i=m),r.push(i),v=a+1,g=0);else r=m;else for(o=[],r=[],a=0;h>a;a+=d)o.push(u.slice(a,a+d)),i=m.slice(a,a+d),i.length||(i=m),r.push(i);else o=[u],r=[m];return n.originalFiles=u,e.each(o||u,function(i,a){var c=e.extend({},n);return c.files=o?a:[a],c.paramName=r[i],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(t,c),l=s._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),l},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r,i=this,o=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},s=function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(a)},l=function(){r.readEntries(function(e){e.length?(c=c.concat(e),l()):s(c)},a)},c=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},a):t.isDirectory?(r=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,r,i=t.prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return e.Deferred().resolve([]).promise();n=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r),n._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=-1!==e.inArray(t,this._specialOptions);r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=e(this.element[0].cloneNode(!1)),i=r.data();r.remove(),e.each(i,function(e,i){var o="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();r.attr(o)&&(t._isRegExpOption(e,i)&&(i=t._getRegExp(i)),n[e]=i)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return r=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){if(!r){if(!e.length)return void o.reject();t.files=e,n=i._onSend(null,t),n.then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})}}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r,i,o,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,l){r=e('<form style="display:none;"></form>'),r.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,i=e('<iframe src="'+a+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];i.unbind("load").bind("load",function(){var t;try{if(t=i.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+a+'"></iframe>').appendTo(r),window.setTimeout(function(){r.remove()},0)}),r.prop("target",i.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),r.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(r)})}),r.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src",a),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){jQuery.fn.putCursorAtEnd=function(){return this.each(function(){if(e(this).focus(),this.setSelectionRange){var t=2*e(this).val().length;this.setSelectionRange(t,t)}else e(this).val(e(this).val());this.scrollTop=999999})}}(jQuery),function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var n=e(this).data("minwidth"),r=e(this).data("maxwidth"),i="",o=e(this),a=e("#"+e(this).data("tester_id"));if(i!==(i=o.val())){var s=i.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");a.html(s);var l=a.width(),c=l+t.comfortZone>=n?l+t.comfortZone:n,u=o.width(),h=u>c&&c>=n||c>n&&r>c;h&&o.width(c)}},e.fn.resetAutosize=function(t){var n=e(this).data("minwidth")||t.minInputWidth||e(this).width(),r=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,i=e(this),o=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),letterSpacing:i.css("letterSpacing"),whiteSpace:"nowrap"}),a=e(this).attr("id")+"_autosize_tester";!e("#"+a).length>0&&(o.attr("id",a),o.appendTo("body")),i.data("minwidth",n),i.data("maxwidth",r),i.data("tester_id",a),i.css("width",n)},e.fn.addTag=function(r,i){return i=jQuery.extend({focus:!1,callback:!0},i),this.each(function(){var o=e(this).attr("id"),a=e(this).val().split(t[o]);if(""==a[0]&&(a=new Array),r=jQuery.trim(r),i.unique){var s=e(this).tagExist(r);1==s&&e("#"+o+"_tag").addClass("not_valid")}else var s=!1;if(""!=r&&1!=s){if(e("<span>").addClass("tag").append(e("<span>").text(r).append("&nbsp;&nbsp;"),e("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return e("#"+o).removeTag(escape(r))})).insertBefore("#"+o+"_addTag"),a.push(r),e("#"+o+"_tag").val(""),i.focus?e("#"+o+"_tag").focus():e("#"+o+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,a),i.callback&&n[o]&&n[o].onAddTag){var l=n[o].onAddTag;l.call(this,r)}if(n[o]&&n[o].onChange){var c=a.length,l=n[o].onChange;l.call(this,e(this),a[c-1])}}}),!1},e.fn.removeTag=function(r){return r=unescape(r),this.each(function(){var o=e(this).attr("id"),a=e(this).val().split(t[o]);for(e("#"+o+"_tagsinput .tag").remove(),str="",i=0;i<a.length;i++)a[i]!=r&&(str=str+t[o]+a[i]);if(e.fn.tagsInput.importTags(this,str),n[o]&&n[o].onRemoveTag){var s=n[o].onRemoveTag;s.call(this,r)}}),!1},e.fn.tagExist=function(n){var r=e(this).attr("id"),i=e(this).val().split(t[r]);return jQuery.inArray(n,i)>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(r){var i=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,autosize:!0,comfortZone:20,inputPadding:12},r);return this.each(function(){i.hide&&e(this).hide();var r=e(this).attr("id");(!r||t[e(this).attr("id")])&&(r=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var o=jQuery.extend({pid:r,real_input:"#"+r,holder:"#"+r+"_tagsinput",input_wrapper:"#"+r+"_addTag",fake_input:"#"+r+"_tag"},i);t[r]=o.delimiter,(i.onAddTag||i.onRemoveTag||i.onChange)&&(n[r]=new Array,n[r].onAddTag=i.onAddTag,n[r].onRemoveTag=i.onRemoveTag,n[r].onChange=i.onChange);var a='<div id="'+r+'_tagsinput" class="tagsinput"><div id="'+r+'_addTag">';if(i.interactive&&(a=a+'<input id="'+r+'_tag" value="" placeholder="'+i.defaultText+'" />'),a+='</div><div class="tags_clear"></div></div>',e(a).insertAfter(this),e(o.holder).css("width",i.width),e(o.holder).css("min-height",i.height),e(o.holder).css("height","100%"),""!=e(o.real_input).val()&&e.fn.tagsInput.importTags(e(o.real_input),e(o.real_input).val()),i.interactive){if(e(o.fake_input).resetAutosize(i),e(o.holder).bind("click",o,function(t){e(t.data.fake_input).focus()}),void 0!=i.autocomplete_url){autocomplete_options={source:i.autocomplete_url};for(attrname in i.autocomplete)autocomplete_options[attrname]=i.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(o.fake_input).autocomplete(i.autocomplete_url,i.autocomplete),e(o.fake_input).bind("result",o,function(t,n,o){n&&e("#"+r).addTag(n[0]+"",{focus:!0,unique:i.unique})})):void 0!==jQuery.ui.autocomplete&&(e(o.fake_input).autocomplete(autocomplete_options),e(o.fake_input).bind("autocompleteselect",o,function(t,n){return e(t.data.real_input).addTag(n.item.value,{focus:!0,unique:i.unique}),!1}))}else e(o.fake_input).bind("blur",o,function(t){var n=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=n?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:i.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",i.placeholderColor)),!1});e(o.fake_input).bind("keypress",o,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:i.unique}),e(t.data.fake_input).resetAutosize(i),!1):void(t.data.autosize&&e(t.data.fake_input).doAutosize(i))}),o.removeWithBackspace&&e(o.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var n=e(this).closest(".tagsinput").find(".tag:last").text(),r=e(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,""),e("#"+r).removeTag(escape(n)),e(this).trigger("focus")}}),e(o.fake_input).blur(),o.unique&&e(o.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,\/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(n,r){var i=e(n).attr("id");e(n).val(r.join(t[i]))},e.fn.tagsInput.importTags=function(r,o){e(r).val("");var a=e(r).attr("id"),s=o.split(t[a]);for(i=0;i<s.length;i++)e(r).addTag(s[i],{focus:!1,callback:!1});if(n[a]&&n[a].onChange){var l=n[a].onChange;l.call(r,r,s[i])}}}(jQuery),function(e){var t,n=e();e.fn.sortable=function(r){var i=String(r);return r=e.extend({connectWith:!1},r),this.each(function(){if(/^enable|disable|destroy$/.test(i)){var o=e(this).children(e(this).data("items")).attr("draggable","enable"==i);return void("destroy"==i&&o.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"))}var a,s,o=e(this).children(r.items),l=e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');o.find(r.handle).mousedown(function(){a=!0}).mouseup(function(){a=!1}),e(this).data("items",r.items),n=n.add(l),r.connectWith&&e(r.connectWith).add(this).data("connectWith",r.connectWith),o.attr("draggable","true").on("dragstart.h5s",function(n){if(r.handle&&!a)return!1;a=!1;var i=n.originalEvent.dataTransfer;i.effectAllowed="move",i.setData("Text","dummy"),s=(t=e(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){t&&(t.removeClass("sortable-dragging").show(),n.detach(),s!=t.index()&&t.parent().trigger("sortupdate",{item:t}),t=null)}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,l]).on("dragover.h5s dragenter.h5s drop.h5s",function(i){return o.is(t)||r.connectWith===e(t).parent().data("connectWith")?"drop"==i.type?(i.stopPropagation(),n.filter(":visible").after(t),t.trigger("dragend.h5s"),!1):(i.preventDefault(),i.originalEvent.dataTransfer.dropEffect="move",o.is(this)?(r.forcePlaceholderSize&&l.height(t.outerHeight()),t.hide(),e(this)[l.index()<e(this).index()?"after":"before"](l),n.not(l).detach()):n.is(this)||e(this).children(r.items).length||(n.detach(),e(this).append(l)),!1):!0})})}}(jQuery),function(e){function t(e,t,n){for(var r=(n||0)-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function n(e,n){var r=typeof n;if(e=e.cache,"boolean"==r||null==n)return e[n];"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:w+n;return e=e[r]||(e[r]={}),"object"==r?e[i]&&t(e[i],n)>-1?0:-1:e[i]?0:-1}function r(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:w+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e)==this.array.length&&(t[n]=!1):i[r]=!0}}function i(e){return e.charCodeAt(0)}function o(e,t){var n=e.index,r=t.index;if(e=e.criteria,t=t.criteria,e!==t){if(e>t||"undefined"==typeof e)return 1;if(t>e||"undefined"==typeof t)return-1}return r>n?-1:1}function a(e){var t=-1,n=e.length,i=l();i["false"]=i["null"]=i["true"]=i.undefined=!1;var o=l();for(o.array=e,o.cache=i,o.push=r;++t<n;)o.push(e[t]);return i.object===!1?(d(o),null):o}function s(){return m.pop()||[]}function l(){return v.pop()||{args:"",array:null,bottom:"",criteria:null,"false":!1,firstArg:"",index:0,init:"",leading:!1,loop:"",maxWait:0,"null":!1,number:null,object:null,push:null,shadowedProps:null,string:null,top:"",trailing:!1,"true":!1,undefined:!1,useHas:!1,useKeys:!1,value:null}}function c(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function u(){}function h(e){m.length==x&&(m.length=x-1),e.length=0,m.push(e)}function d(e){var t=e.cache;t&&d(t),
v.length==x&&(v.length=x-1),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,v.push(e)}function f(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(0>i?0:i);++r<i;)o[r]=e[t+r];return o}function p(r){function m(e){return e&&"object"==typeof e&&!In(e)&&an.call(e,"__wrapped__")?e:new v(e)}function v(e){this.__wrapped__=e}function x(e,t,n,r){function i(){var r=arguments,c=a?this:t;if(o||(e=t[s]),n.length&&(r=r.length?(r=xn.call(r),l?r.concat(n):n.concat(r)):n),this instanceof i){c=K(e.prototype);var u=e.apply(c,r);return fe(u)?u:c}return e.apply(c,r)}var o=de(e),a=!n,s=t;if(a){var l=r;n=t}else if(!o){if(!r)throw new Kt;t=e}return i}function $(){var e=l();e.shadowedProps=A,e.array=e.bottom=e.loop=e.top="",e.init="iterable",e.useHas=!0,e.useKeys=!!Rn;for(var t,n=0;t=arguments[n];n++)for(var r in t)e[r]=t[r];var i=e.args;e.firstArg=/^[^,]+/.exec(i)[0];var o=zt("errorClass, errorProto, hasOwnProperty, isArguments, isArray, isString, keys, lodash, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+i+") {\n"+On(e)+"\n}");return d(e),o(F,Xt,an,J,In,be,Rn,m,Qt,B,En,U,Gt,hn)}function K(e){return fe(e)?fn(e):{}}function X(e){return Fn[e]}function Q(e,n,r){var i=(i=m.indexOf)===Ge?t:i;return i}function G(e){return function(t,n,r,i){return"boolean"!=typeof n&&null!=n&&(i=r,r=i&&i[n]===t?g:n,n=!1),null!=r&&(r=m.createCallback(r,i)),e(t,n,r,i)}}function Z(e){var t,n;return!e||hn.call(e)!=H||(t=e.constructor,de(t)&&!(t instanceof t))||!Tn.argsClass&&J(e)||!Tn.nodeClass&&c(e)?!1:Tn.ownLast?(zn(e,function(e,t,r){return n=an.call(r,t),!1}),n!==!1):(zn(e,function(e,t){n=t}),n===g||an.call(e,n))}function Y(e){return Mn[e]}function J(e){return hn.call(e)==I}function ee(e,t,n,r,i,o){var a=e;if("boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),"function"==typeof n){if(n="undefined"==typeof r?n:m.createCallback(n,r,1),a=n(a),"undefined"!=typeof a)return a;a=e}var l=fe(a);if(l){var u=hn.call(a);if(!q[u]||!Tn.nodeClass&&c(a))return a;var d=In(a)}if(!l||!t)return l?d?f(a):Ln({},a):a;var p=kn[u];switch(u){case R:case N:return new p(+a);case L:case U:return new p(a);case z:return p(a.source,S.exec(a))}var v=!i;i||(i=s()),o||(o=s());for(var b=i.length;b--;)if(i[b]==e)return o[b];return a=d?p(a.length):{},d&&(an.call(e,"index")&&(a.index=e.index),an.call(e,"input")&&(a.input=e.input)),i.push(e),o.push(a),(d?Nn:Un)(e,function(e,r){a[r]=ee(e,t,n,g,i,o)}),v&&(h(i),h(o)),a}function te(e,t,n){return ee(e,!0,t,n)}function ne(e,t,n){var r;return t=m.createCallback(t,n),Un(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function re(e){var t=[];return zn(e,function(e,n){de(e)&&t.push(n)}),t.sort()}function ie(e,t){return e?an.call(e,t):!1}function oe(e){for(var t=-1,n=Rn(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function ae(e){return e===!0||e===!1||hn.call(e)==R}function se(e){return e?"object"==typeof e&&hn.call(e)==N:!1}function le(e){return e?1===e.nodeType:!1}function ce(e){var t=!0;if(!e)return t;var n=hn.call(e),r=e.length;return n==D||n==U||(Tn.argsClass?n==I:J(e))||n==H&&"number"==typeof r&&de(e.splice)?!r:(Un(e,function(){return t=!1}),t)}function ue(e,t,n,r,i,o){var a=n===y;if("function"==typeof n&&!a){n=m.createCallback(n,r,2);var l=n(e,t);if("undefined"!=typeof l)return!!l}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,d=typeof t;if(e===e&&(!e||"function"!=u&&"object"!=u)&&(!t||"function"!=d&&"object"!=d))return!1;if(null==e||null==t)return e===t;var f=hn.call(e),p=hn.call(t);if(f==I&&(f=H),p==I&&(p=H),f!=p)return!1;switch(f){case R:case N:return+e==+t;case L:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case z:case U:return e==Wt(t)}var g=f==D;if(!g){if(an.call(e,"__wrapped__ ")||an.call(t,"__wrapped__"))return ue(e.__wrapped__||e,t.__wrapped__||t,n,r,i,o);if(f!=H||!Tn.nodeClass&&(c(e)||c(t)))return!1;var v=!Tn.argsObject&&J(e)?Bt:e.constructor,b=!Tn.argsObject&&J(t)?Bt:t.constructor;if(v!=b&&!(de(v)&&v instanceof v&&de(b)&&b instanceof b))return!1}var w=!i;i||(i=s()),o||(o=s());for(var _=i.length;_--;)if(i[_]==e)return o[_]==t;var x=0;if(l=!0,i.push(e),o.push(t),g){if(_=e.length,x=t.length,l=x==e.length,!l&&!a)return l;for(;x--;){var C=_,S=t[x];if(a)for(;C--&&!(l=ue(e[C],S,n,r,i,o)););else if(!(l=ue(e[x],S,n,r,i,o)))break}return l}return zn(t,function(t,a,s){return an.call(s,a)?(x++,l=an.call(e,a)&&ue(e[a],t,n,r,i,o)):void 0}),l&&!a&&zn(e,function(e,t,n){return an.call(n,t)?l=--x>-1:void 0}),w&&(h(i),h(o)),l}function he(e){return gn(e)&&!mn(parseFloat(e))}function de(e){return"function"==typeof e}function fe(e){return!(!e||!B[typeof e])}function pe(e){return me(e)&&e!=+e}function ge(e){return null===e}function me(e){return"number"==typeof e||hn.call(e)==L}function ve(e){return!(!e||!B[typeof e])&&hn.call(e)==z}function be(e){return"string"==typeof e||hn.call(e)==U}function ye(e){return"undefined"==typeof e}function we(e,t,n){var r=arguments,i=0,o=2;if(!fe(e))return e;if(n===y)var a=r[3],l=r[4],c=r[5];else{var u=!0;l=s(),c=s(),"number"!=typeof n&&(o=r.length),o>3&&"function"==typeof r[o-2]?a=m.createCallback(r[--o-1],r[o--],2):o>2&&"function"==typeof r[o-1]&&(a=r[--o])}for(;++i<o;)(In(r[i])?Ie:Un)(r[i],function(t,n){var r,i,o=t,s=e[n];if(t&&((i=In(t))||qn(t))){for(var u=l.length;u--;)if(r=l[u]==t){s=c[u];break}if(!r){var h;a&&(o=a(s,t),(h="undefined"!=typeof o)&&(s=o)),h||(s=i?In(s)?s:[]:qn(s)?s:{}),l.push(t),c.push(s),h||(s=we(s,t,y,a,l,c))}}else a&&(o=a(s,t),"undefined"==typeof o&&(o=t)),"undefined"!=typeof o&&(s=o);e[n]=s});return u&&(h(l),h(c)),e}function _e(e,t,n){var r=Q(),i="function"==typeof t,o={};if(i)t=m.createCallback(t,n);else var a=tn.apply(Vt,xn.call(arguments,1));return zn(e,function(e,n,s){(i?!t(e,n,s):r(a,n)<0)&&(o[n]=e)}),o}function xe(e){for(var t=-1,n=Rn(e),r=n.length,i=Ft(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Ce(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,o=tn.apply(Vt,xn.call(arguments,1)),a=fe(e)?o.length:0;++i<a;){var s=o[i];s in e&&(r[s]=e[s])}else t=m.createCallback(t,n),zn(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Se(e,t,n,r){var i=In(e);if(t=m.createCallback(t,r,4),null==n)if(i)n=[];else{var o=e&&e.constructor,a=o&&o.prototype;n=K(a)}return(i?Nn:Un)(e,function(e,r,i){return t(n,e,r,i)}),n}function ke(e){for(var t=-1,n=Rn(e),r=n.length,i=Ft(r);++t<r;)i[t]=e[n[t]];return i}function Ee(e){var t=-1,n=tn.apply(Vt,xn.call(arguments,1)),r=n.length,i=Ft(r);for(Tn.unindexedChars&&be(e)&&(e=e.split(""));++t<r;)i[t]=e[n[t]];return i}function Te(e,t,n){var r=-1,i=Q(),o=e?e.length:0,a=!1;return n=(0>n?bn(0,o+n):n)||0,o&&"number"==typeof o?a=(be(e)?e.indexOf(t,n):i(e,t,n))>-1:Nn(e,function(e){return++r>=n?!(a=e===t):void 0}),a}function Oe(e,t,n){var r={};return t=m.createCallback(t,n),Ie(e,function(e,n,i){n=Wt(t(e,n,i)),an.call(r,n)?r[n]++:r[n]=1}),r}function Pe(e,t,n){var r=!0;if(t=m.createCallback(t,n),In(e))for(var i=-1,o=e.length;++i<o&&(r=!!t(e[i],i,e)););else Nn(e,function(e,n,i){return r=!!t(e,n,i)});return r}function je(e,t,n){var r=[];if(t=m.createCallback(t,n),In(e))for(var i=-1,o=e.length;++i<o;){var a=e[i];t(a,i,e)&&r.push(a)}else Nn(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ae(e,t,n){if(t=m.createCallback(t,n),!In(e)){var r;return Nn(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}for(var i=-1,o=e.length;++i<o;){var a=e[i];if(t(a,i,e))return a}}function Ie(e,t,n){if(t&&"undefined"==typeof n&&In(e))for(var r=-1,i=e.length;++r<i&&t(e[r],r,e)!==!1;);else Nn(e,t,n);return e}function De(e,t,n){var r={};return t=m.createCallback(t,n),Ie(e,function(e,n,i){n=Wt(t(e,n,i)),(an.call(r,n)?r[n]:r[n]=[]).push(e)}),r}function Re(e,t){var n=xn.call(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=Ft("number"==typeof o?o:0);return Ie(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a}function Ne(e,t,n){var r=-1,i=e?e.length:0,o=Ft("number"==typeof i?i:0);if(t=m.createCallback(t,n),In(e))for(;++r<i;)o[r]=t(e[r],r,e);else Nn(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function Fe(e,t,n){var r=-(1/0),o=r;if(!t&&In(e))for(var a=-1,s=e.length;++a<s;){var l=e[a];l>o&&(o=l)}else t=!t&&be(e)?i:m.createCallback(t,n),Nn(e,function(e,n,i){var a=t(e,n,i);a>r&&(r=a,o=e)});return o}function Me(e,t,n){var r=1/0,o=r;if(!t&&In(e))for(var a=-1,s=e.length;++a<s;){var l=e[a];o>l&&(o=l)}else t=!t&&be(e)?i:m.createCallback(t,n),Nn(e,function(e,n,i){var a=t(e,n,i);r>a&&(r=a,o=e)});return o}function Le(e,t,n,r){var i=arguments.length<3;if(t=m.createCallback(t,r,4),In(e)){var o=-1,a=e.length;for(i&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e)}else Nn(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}function He(e,t,n,r){var i=e,o=e?e.length:0,a=arguments.length<3;if("number"!=typeof o){var s=Rn(e);o=s.length}else Tn.unindexedChars&&be(e)&&(i=e.split(""));return t=m.createCallback(t,r,4),Ie(e,function(e,r,l){r=s?s[--o]:--o,n=a?(a=!1,i[r]):t(n,i[r],r,l)}),n}function ze(e,t,n){return t=m.createCallback(t,n),je(e,function(e,n,r){return!t(e,n,r)})}function Ue(e){var t=-1,n=e?e.length:0,r=Ft("number"==typeof n?n:0);return Ie(e,function(e){var n=nn(_n()*(++t+1));r[t]=r[n],r[n]=e}),r}function qe(e){var t=e?e.length:0;return"number"==typeof t?t:Rn(e).length}function Be(e,t,n){var r;if(t=m.createCallback(t,n),In(e))for(var i=-1,o=e.length;++i<o&&!(r=t(e[i],i,e)););else Nn(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function $e(e,t,n){var r=-1,i=e?e.length:0,a=Ft("number"==typeof i?i:0);for(t=m.createCallback(t,n),Ie(e,function(e,n,i){var o=a[++r]=l();o.criteria=t(e,n,i),o.index=r,o.value=e}),i=a.length,a.sort(o);i--;){var s=a[i];a[i]=s.value,d(s)}return a}function We(e){return e&&"number"==typeof e.length?Tn.unindexedChars&&be(e)?e.split(""):f(e):ke(e)}function Ke(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function Ve(e){var r=-1,i=Q(),o=e?e.length:0,s=tn.apply(Vt,xn.call(arguments,1)),l=[],c=o>=_&&i===t;if(c){var u=a(s);u?(i=n,s=u):c=!1}for(;++r<o;){var h=e[r];i(s,h)<0&&l.push(h)}return c&&d(s),l}function Xe(e,t,n){var r=-1,i=e?e.length:0;for(t=m.createCallback(t,n);++r<i;)if(t(e[r],r,e))return r;return-1}function Qe(e,t,n){if(e){var r=0,i=e.length;if("number"!=typeof t&&null!=t){var o=-1;for(t=m.createCallback(t,n);++o<i&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e[0];return f(e,0,yn(bn(0,r),i))}}function Ge(e,n,r){if("number"==typeof r){var i=e?e.length:0;r=0>r?bn(0,i+r):r||0}else if(r){var o=rt(e,n);return e[o]===n?o:-1}return e?t(e,n,r):-1}function Ze(e,t,n){if(!e)return[];var r=0,i=e.length;if("number"!=typeof t&&null!=t){var o=i;for(t=m.createCallback(t,n);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return f(e,0,yn(bn(0,i-r),i))}function Ye(e){for(var r=arguments,i=r.length,o=-1,l=s(),c=-1,u=Q(),f=e?e.length:0,p=[],g=s();++o<i;){var m=r[o];l[o]=u===t&&(m?m.length:0)>=_&&a(o?r[o]:g)}e:for(;++c<f;){var v=l[0];if(m=e[c],(v?n(v,m):u(g,m))<0){for(o=i,(v||g).push(m);--o;)if(v=l[o],(v?n(v,m):u(r[o],m))<0)continue e;p.push(m)}}for(;i--;)v=l[i],v&&d(v);return h(l),h(g),p}function Je(e,t,n){if(e){var r=0,i=e.length;if("number"!=typeof t&&null!=t){var o=i;for(t=m.createCallback(t,n);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e[i-1];return f(e,bn(0,i-r))}}function et(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?bn(0,r+n):yn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function tt(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);for(var r=-1,i=bn(0,Jt((t-e)/n)),o=Ft(i);++r<i;)o[r]=e,e+=n;return o}function nt(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=m.createCallback(t,n);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:bn(0,t);return f(e,r)}function rt(e,t,n,r){var i=0,o=e?e.length:i;for(n=n?m.createCallback(n,r,1):kt,t=n(t);o>i;){var a=i+o>>>1;n(e[a])<t?i=a+1:o=a}return i}function it(e){return In(e)||(arguments[0]=e?xn.call(e):Vt),Kn(tn.apply(Vt,arguments))}function ot(e){for(var t=-1,n=e?Fe(Bn(e,"length")):0,r=Ft(0>n?0:n);++t<n;)r[t]=Bn(e,t);return r}function at(e){return Ve(e,xn.call(arguments,1))}function st(e){return e?ot(arguments):[]}function lt(e,t){for(var n=-1,r=e?e.length:0,i={};++n<r;){var o=e[n];t?i[o]=t[n]:i[o[0]]=o[1]}return i}function ct(e,t){return 1>e?t():function(){return--e<1?t.apply(this,arguments):void 0}}function ut(e,t){return Tn.fastBind||dn&&arguments.length>2?dn.call.apply(dn,arguments):x(e,t,xn.call(arguments,2))}function ht(e){for(var t=arguments.length>1?tn.apply(Vt,xn.call(arguments,1)):re(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=ut(e[i],e)}return e}function dt(e,t){return x(e,t,xn.call(arguments,2),y)}function ft(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function pt(e,t,n){if(null==e)return kt;var r=typeof e;if("function"!=r){if("object"!=r)return function(t){return t[e]};var i=Rn(e);return function(t){for(var n=i.length,r=!1;n--&&(r=ue(t[i[n]],e[i[n]],y)););return r}}return"undefined"==typeof t||E&&!E.test(rn.call(e))?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:4===n?function(n,r,i,o){return e.call(t,n,r,i,o)}:function(n,r,i){return e.call(t,n,r,i)}}function gt(e,t,n){function r(){en(d),en(f),c=0,d=f=null}function i(){var t=p&&(!g||c>1);r(),t&&(h!==!1&&(u=new Lt),s=e.apply(l,a))}function o(){r(),(p||h!==t)&&(u=new Lt,s=e.apply(l,a))}var a,s,l,c=0,u=0,h=!1,d=null,f=null,p=!0;if(t=bn(0,t||0),n===!0){var g=!0;p=!1}else fe(n)&&(g=n.leading,h="maxWait"in n&&bn(t,n.maxWait||0),p="trailing"in n?n.trailing:p);return function(){if(a=arguments,l=this,c++,en(f),h===!1)g&&2>c&&(s=e.apply(l,a));else{var n=new Lt;d||g||(u=n);var r=h-(n-u);0>=r?(en(d),d=null,u=n,s=e.apply(l,a)):d||(d=un(o,r))}return t!==h&&(f=un(i,t)),s}}function mt(e){var t=xn.call(arguments,1);return un(function(){e.apply(g,t)},1)}function vt(e,t){var n=xn.call(arguments,2);return un(function(){e.apply(g,n)},t)}function bt(e,t){function n(){var r=n.cache,i=w+(t?t.apply(this,arguments):arguments[0]);return an.call(r,i)?r[i]:r[i]=e.apply(this,arguments)}return n.cache={},n}function yt(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function wt(e){return x(e,xn.call(arguments,1))}function _t(e){return x(e,xn.call(arguments,1),null,y)}function xt(e,t,n){var r=!0,i=!0;n===!1?r=!1:fe(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),n=l(),n.leading=r,n.maxWait=t,n.trailing=i;var o=gt(e,t,n);return d(n),o}function Ct(e,t){return function(){var n=[e];return sn.apply(n,arguments),t.apply(this,n)}}function St(e){return null==e?"":Wt(e).replace(P,X)}function kt(e){return e}function Et(e){Ie(re(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=this.__wrapped__,t=[e];sn.apply(t,arguments);var r=n.apply(m,t);return e&&"object"==typeof e&&e===r?this:new v(r)}})}function Tt(){return r._=Zt,this}function Ot(e,t){null==e&&null==t&&(t=1),e=+e||0,null==t?(t=e,e=0):t=+t||0;var n=_n();return e%1||t%1?e+yn(n*(t-e+parseFloat("1e-"+((n+"").length-1))),t):e+nn(n*(t-e+1))}function Pt(e,t){var n=e?e[t]:g;return de(n)?e[t]():n}function jt(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=Ft(e);for(t=m.createCallback(t,n,1);++r<e;)i[r]=t(r);return i}function At(e){return null==e?"":Wt(e).replace(C,Y)}function It(e){var t=++b;return Wt(null==e?"":e)+t}function Dt(e,t){return t(e),e}function Rt(){return Wt(this.__wrapped__)}function Nt(){return this.__wrapped__}r=r?V.defaults(e.Object(),r,V.pick(e,j)):e;var Ft=r.Array,Mt=r.Boolean,Lt=r.Date,Ht=r.Error,zt=r.Function,Ut=r.Math,qt=r.Number,Bt=r.Object,$t=r.RegExp,Wt=r.String,Kt=r.TypeError,Vt=[],Xt=Ht.prototype,Qt=Bt.prototype,Gt=Wt.prototype,Zt=r._,Yt=$t("^"+Wt(Qt.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Jt=Ut.ceil,en=r.clearTimeout,tn=Vt.concat,nn=Ut.floor,rn=zt.prototype.toString,on=Yt.test(on=Bt.getPrototypeOf)&&on,an=Qt.hasOwnProperty,sn=Vt.push,ln=Qt.propertyIsEnumerable,cn=r.setImmediate,un=r.setTimeout,hn=Qt.toString,dn=Yt.test(dn=hn.bind)&&dn,fn=Yt.test(fn=Bt.create)&&fn,pn=Yt.test(pn=Ft.isArray)&&pn,gn=r.isFinite,mn=r.isNaN,vn=Yt.test(vn=Bt.keys)&&vn,bn=Ut.max,yn=Ut.min,wn=r.parseInt,_n=Ut.random,xn=Vt.slice,Cn=Yt.test(r.attachEvent),Sn=dn&&!/\n|true/.test(dn+Cn),kn={};kn[D]=Ft,kn[R]=Mt,kn[N]=Lt,kn[M]=zt,kn[H]=Bt,kn[L]=qt,kn[z]=$t,kn[U]=Wt;var En={};En[D]=En[N]=En[L]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},En[R]=En[U]={constructor:!0,toString:!0,valueOf:!0},En[F]=En[M]=En[z]={constructor:!0,toString:!0},En[H]={constructor:!0},function(){for(var e=A.length;e--;){var t=A[e];for(var n in En)an.call(En,n)&&!an.call(En[n],t)&&(En[n][t]=!1)}}(),v.prototype=m.prototype;var Tn=m.support={};!function(){var e=function(){this.x=1},t={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var r in new e)n.push(r);for(r in arguments);Tn.argsObject=arguments.constructor==Bt&&!(arguments instanceof Ft),Tn.argsClass=J(arguments),Tn.enumErrorProps=ln.call(Xt,"message")||ln.call(Xt,"name"),Tn.enumPrototypes=ln.call(e,"prototype"),Tn.fastBind=dn&&!Sn,Tn.ownLast="x"!=n[0],Tn.nonEnumArgs=0!=r,Tn.nonEnumShadows=!/valueOf/.test(n),Tn.spliceObjects=(Vt.splice.call(t,0,1),!t[0]),Tn.unindexedChars="x"[0]+Bt("x")[0]!="xx";try{Tn.nodeClass=!(hn.call(document)==H&&!({toString:0}+""))}catch(i){Tn.nodeClass=!0}}(1);var On=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",Tn.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):Tn.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),Tn.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),Tn.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(Tn.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),Tn.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),e.useHas&&e.useKeys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else if(t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ",Tn.nonEnumShadows){for(t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}return(e.array||Tn.nonEnumArgs)&&(t+="\n}"),t+=e.bottom+";\nreturn result"},Pn={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},jn={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg)",array:"typeof length == 'number'",loop:"if (callback(iterable[index], index, collection) === false) return result"},An={top:"if (!objectTypes[typeof iterable]) return result;\n"+jn.top,array:!1};if(!fn)var K=function(e){if(fe(e)){u.prototype=e;var t=new u;u.prototype=null}return t||{}};Tn.argsClass||(J=function(e){return e?an.call(e,"callee"):!1});var In=pn||function(e){return e?"object"==typeof e&&hn.call(e)==D:!1},Dn=$({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),Rn=vn?function(e){return fe(e)?Tn.enumPrototypes&&"function"==typeof e||Tn.nonEnumArgs&&e.length&&J(e)?Dn(e):vn(e):[]}:Dn,Nn=$(jn),Fn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mn=oe(Fn),Ln=$(Pn,{top:Pn.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = lodash.createCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Hn=$(Pn),zn=$(jn,An,{useHas:!1}),Un=$(jn,An);de(/x/)&&(de=function(e){return"function"==typeof e&&hn.call(e)==M});var qn=on?function(e){if(!e||hn.call(e)!=H||!Tn.argsClass&&J(e))return!1;var t=e.valueOf,n="function"==typeof t&&(n=on(t))&&on(n);return n?e==n||on(e)==n:Z(e)}:Z,Bn=Ne,$n=je,Wn=G(function Xn(e,t,n){for(var r=-1,i=e?e.length:0,o=[];++r<i;){var a=e[r];n&&(a=n(a,r,e)),In(a)?sn.apply(o,t?a:Xn(a)):o.push(a)}return o}),Kn=G(function(e,r,i){var o=-1,l=Q(),c=e?e.length:0,u=[],f=!r&&c>=_&&l===t,p=i||f?s():u;if(f){var g=a(p);g?(l=n,p=g):(f=!1,p=i?p:(h(p),u))}for(;++o<c;){var m=e[o],v=i?i(m,o,e):m;(r?!o||p[p.length-1]!==v:l(p,v)<0)&&((i||f)&&p.push(v),u.push(m))}return f?(h(p.array),d(p)):i&&h(p),u});Sn&&W&&"function"==typeof cn&&(mt=ut(cn,r));var Vn=8==wn(T+"08")?wn:function(e,t){return wn(be(e)?e.replace(O,""):e,t||0)};return m.after=ct,m.assign=Ln,m.at=Ee,m.bind=ut,m.bindAll=ht,m.bindKey=dt,m.compact=Ke,m.compose=ft,m.countBy=Oe,m.createCallback=pt,m.debounce=gt,m.defaults=Hn,m.defer=mt,m.delay=vt,m.difference=Ve,m.filter=je,m.flatten=Wn,m.forEach=Ie,m.forIn=zn,m.forOwn=Un,m.functions=re,m.groupBy=De,m.initial=Ze,m.intersection=Ye,m.invert=oe,m.invoke=Re,m.keys=Rn,m.map=Ne,m.max=Fe,m.memoize=bt,m.merge=we,m.min=Me,m.omit=_e,m.once=yt,m.pairs=xe,m.partial=wt,m.partialRight=_t,m.pick=Ce,m.pluck=Bn,m.range=tt,m.reject=ze,m.rest=nt,m.shuffle=Ue,m.sortBy=$e,m.tap=Dt,m.throttle=xt,m.times=jt,m.toArray=We,m.transform=Se,m.union=it,m.uniq=Kn,m.unzip=ot,m.values=ke,m.where=$n,m.without=at,m.wrap=Ct,m.zip=st,m.zipObject=lt,m.collect=Ne,m.drop=nt,m.each=Ie,m.extend=Ln,m.methods=re,m.object=lt,m.select=je,m.tail=nt,m.unique=Kn,Et(m),m.chain=m,m.prototype.chain=function(){return this},m.clone=ee,m.cloneDeep=te,m.contains=Te,m.escape=St,m.every=Pe,m.find=Ae,m.findIndex=Xe,m.findKey=ne,m.has=ie,m.identity=kt,m.indexOf=Ge,m.isArguments=J,m.isArray=In,m.isBoolean=ae,m.isDate=se,m.isElement=le,m.isEmpty=ce,m.isEqual=ue,m.isFinite=he,m.isFunction=de,m.isNaN=pe,m.isNull=ge,m.isNumber=me,m.isObject=fe,m.isPlainObject=qn,m.isRegExp=ve,m.isString=be,m.isUndefined=ye,m.lastIndexOf=et,m.mixin=Et,m.noConflict=Tt,m.parseInt=Vn,m.random=Ot,m.reduce=Le,m.reduceRight=He,m.result=Pt,m.runInContext=p,m.size=qe,m.some=Be,m.sortedIndex=rt,m.unescape=At,m.uniqueId=It,m.all=Pe,m.any=Be,m.detect=Ae,m.findWhere=Ae,m.foldl=Le,m.foldr=He,m.include=Te,m.inject=Le,Un(m,function(e,t){m.prototype[t]||(m.prototype[t]=function(){var t=[this.__wrapped__];return sn.apply(t,arguments),e.apply(m,t)})}),m.first=Qe,m.last=Je,m.take=Qe,m.head=Qe,Un(m,function(e,t){m.prototype[t]||(m.prototype[t]=function(t,n){var r=e(this.__wrapped__,t,n);return null==t||n&&"function"!=typeof t?r:new v(r)})}),m.VERSION="1.3.0",m.prototype.toString=Rt,m.prototype.value=Nt,m.prototype.valueOf=Nt,Nn(["join","pop","shift"],function(e){var t=Vt[e];m.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),Nn(["push","reverse","sort","unshift"],function(e){var t=Vt[e];m.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Nn(["concat","slice","splice"],function(e){var t=Vt[e];m.prototype[e]=function(){return new v(t.apply(this.__wrapped__,arguments))}}),Tn.spliceObjects||Nn(["pop","shift","splice"],function(e){var t=Vt[e],n="splice"==e;m.prototype[e]=function(){var e=this.__wrapped__,r=t.apply(e,arguments);return 0===e.length&&delete e[0],n?new v(r):r}}),m}var g,m=[],v=[],b=0,y={},w=+new Date+"",_=75,x=10,C=/&(?:amp|lt|gt|quot|#39);/g,S=/\w*$/,E=(E=/\bthis\b/)&&E.test(p)&&E,T=" 	\x0B\f \ufeff\n\r\u2028\u2029 ᠎             　",O=RegExp("^["+T+"]*0+(?=.$)"),P=/[&<>"']/g,j=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],A=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],I="[object Arguments]",D="[object Array]",R="[object Boolean]",N="[object Date]",F="[object Error]",M="[object Function]",L="[object Number]",H="[object Object]",z="[object RegExp]",U="[object String]",q={};q[M]=!1,q[I]=q[D]=q[R]=q[N]=q[L]=q[H]=q[z]=q[U]=!0;var B={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},$=B[typeof exports]&&exports,W=B[typeof module]&&module&&module.exports==$&&module,K=B[typeof global]&&global;!K||K.global!==K&&K.window!==K||(e=K);var V=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e._=V,define(function(){return V})):$&&!$.nodeType?W?(W.exports=V)._=V:$._=V:e._=V}(this),function(){function e(e,t){var a=e[0],s=e[1],l=e[2],c=e[3];a=n(a,s,l,c,t[0],7,-680876936),c=n(c,a,s,l,t[1],12,-389564586),l=n(l,c,a,s,t[2],17,606105819),s=n(s,l,c,a,t[3],22,-1044525330),a=n(a,s,l,c,t[4],7,-176418897),c=n(c,a,s,l,t[5],12,1200080426),l=n(l,c,a,s,t[6],17,-1473231341),s=n(s,l,c,a,t[7],22,-45705983),a=n(a,s,l,c,t[8],7,1770035416),c=n(c,a,s,l,t[9],12,-1958414417),l=n(l,c,a,s,t[10],17,-42063),s=n(s,l,c,a,t[11],22,-1990404162),a=n(a,s,l,c,t[12],7,1804603682),c=n(c,a,s,l,t[13],12,-40341101),l=n(l,c,a,s,t[14],17,-1502002290),s=n(s,l,c,a,t[15],22,1236535329),a=r(a,s,l,c,t[1],5,-165796510),c=r(c,a,s,l,t[6],9,-1069501632),l=r(l,c,a,s,t[11],14,643717713),s=r(s,l,c,a,t[0],20,-373897302),a=r(a,s,l,c,t[5],5,-701558691),c=r(c,a,s,l,t[10],9,38016083),l=r(l,c,a,s,t[15],14,-660478335),s=r(s,l,c,a,t[4],20,-405537848),a=r(a,s,l,c,t[9],5,568446438),c=r(c,a,s,l,t[14],9,-1019803690),l=r(l,c,a,s,t[3],14,-187363961),s=r(s,l,c,a,t[8],20,1163531501),a=r(a,s,l,c,t[13],5,-1444681467),c=r(c,a,s,l,t[2],9,-51403784),l=r(l,c,a,s,t[7],14,1735328473),s=r(s,l,c,a,t[12],20,-1926607734),a=i(a,s,l,c,t[5],4,-378558),c=i(c,a,s,l,t[8],11,-2022574463),l=i(l,c,a,s,t[11],16,1839030562),s=i(s,l,c,a,t[14],23,-35309556),a=i(a,s,l,c,t[1],4,-1530992060),c=i(c,a,s,l,t[4],11,1272893353),l=i(l,c,a,s,t[7],16,-155497632),s=i(s,l,c,a,t[10],23,-1094730640),a=i(a,s,l,c,t[13],4,681279174),c=i(c,a,s,l,t[0],11,-358537222),l=i(l,c,a,s,t[3],16,-722521979),s=i(s,l,c,a,t[6],23,76029189),a=i(a,s,l,c,t[9],4,-640364487),c=i(c,a,s,l,t[12],11,-421815835),l=i(l,c,a,s,t[15],16,530742520),s=i(s,l,c,a,t[2],23,-995338651),a=o(a,s,l,c,t[0],6,-198630844),c=o(c,a,s,l,t[7],10,1126891415),l=o(l,c,a,s,t[14],15,-1416354905),s=o(s,l,c,a,t[5],21,-57434055),a=o(a,s,l,c,t[12],6,1700485571),c=o(c,a,s,l,t[3],10,-1894986606),l=o(l,c,a,s,t[10],15,-1051523),s=o(s,l,c,a,t[1],21,-2054922799),a=o(a,s,l,c,t[8],6,1873313359),c=o(c,a,s,l,t[15],10,-30611744),l=o(l,c,a,s,t[6],15,-1560198380),s=o(s,l,c,a,t[13],21,1309151649),a=o(a,s,l,c,t[4],6,-145523070),c=o(c,a,s,l,t[11],10,-1120210379),l=o(l,c,a,s,t[2],15,718787259),s=o(s,l,c,a,t[9],21,-343485551),e[0]=u(a,e[0]),e[1]=u(s,e[1]),e[2]=u(l,e[2]),e[3]=u(c,e[3])}function t(e,t,n,r,i,o){return t=u(u(t,e),u(r,o)),u(t<<i|t>>>32-i,n)}function n(e,n,r,i,o,a,s){return t(n&r|~n&i,e,n,o,a,s)}function r(e,n,r,i,o,a,s){return t(n&i|r&~i,e,n,o,a,s)}function i(e,n,r,i,o,a,s){return t(n^r^i,e,n,o,a,s)}function o(e,n,r,i,o,a,s){return t(r^(n|~i),e,n,o,a,s)}function a(t){/[\x80-\xFF]/.test(t)&&(t=unescape(encodeURI(t))),txt="";var n,r=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(i,s(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(i,o),n=0;16>n;n++)o[n]=0;return o[14]=8*r,e(i,o),i}function s(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function l(e){for(var t="",n=0;4>n;n++)t+=h[e>>8*n+4&15]+h[e>>8*n&15];return t}function c(e){for(var t=0;t<e.length;t++)e[t]=l(e[t]);return e.join("")}function u(e,t){return e+t&4294967295}function u(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}var h="0123456789abcdef".split("");md5=function(e){return c(a(e))},"5d41402abc4b2a76b9719d911017c592"!=md5("hello")}(),window.Modernizr=function(e,t,n){function r(e){b.cssText=e}function i(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&b[i]!==n)return"pfx"==t?i:!0}return!1}function s(e,t,r){for(var o in e){var a=t[e[o]];if(a!==n)return r===!1?e[o]:i(a,"function")?a.bind(r||t):a}return!1}function l(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+_.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?a(o,t):(o=(e+" "+x.join(r+" ")+r).split(" "),s(o,t,n))}var c,u,h,d="2.7.0",f={},p=!0,g=t.documentElement,m="modernizr",v=t.createElement(m),b=v.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",_=w.split(" "),x=w.toLowerCase().split(" "),C={},S=[],k=S.slice,E=function(e,n,r,i){var o,a,s,l,c=t.createElement("div"),u=t.body,h=u||t.createElement("body");if(parseInt(r,10))for(;r--;)s=t.createElement("div"),s.id=i?i[r]:m+(r+1),c.appendChild(s);return o=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),c.id=m,(u?c:h).innerHTML+=o,h.appendChild(c),u||(h.style.background="",h.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(h)),a=n(c,e),u?c.parentNode.removeChild(c):(h.parentNode.removeChild(h),g.style.overflow=l),!!a},T=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return E("@media "+t+" { #"+m+" { position: absolute; } }",function(t){r="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),r},O={}.hasOwnProperty;h=i(O,"undefined")||i(O.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return O.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=k.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var o=new i,a=t.apply(o,n.concat(k.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(k.call(arguments)))};return r}),C.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:E(["@media (",y.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n};for(var P in C)h(C,P)&&(u=P.toLowerCase(),f[u]=C[P](),S.push((f[u]?"":"no-")+u));return f.addTest=function(e,t){if("object"==typeof e)for(var r in e)h(e,r)&&f.addTest(r,e[r]);else{if(e=e.toLowerCase(),f[e]!==n)return f;t="function"==typeof t?t():t,"undefined"!=typeof p&&p&&(g.className+=" "+(t?"":"no-")+e),f[e]=t}return f},r(""),v=c=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=b.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=v[e[g]];return t||(t={},m++,e[g]=m,v[m]=t),t}function o(e,n,r){if(n||(n=t),u)return n.createElement(e);r||(r=i(n));var o;return o=r.cache[e]?r.cache[e].cloneNode():p.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),
!o.canHaveChildren||f.test(e)||o.tagUrn?o:r.frag.appendChild(o)}function a(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||i(e);for(var o=n.frag.cloneNode(),a=0,s=r(),l=s.length;l>a;a++)o.createElement(s[a]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return b.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(b,t.frag)}function l(e){e||(e=t);var r=i(e);return b.shivCSS&&!c&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||s(e,r),e}var c,u,h="3.7.0",d=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,u=!0}}();var b={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:h,shivCSS:d.shivCSS!==!1,supportsUnknownElements:u,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:a};e.html5=b,l(t)}(this,t),f._version=d,f._prefixes=y,f._domPrefixes=x,f._cssomPrefixes=_,f.mq=T,f.testProp=function(e){return a([e])},f.testAllProps=l,f.testStyles=E,f.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+S.join(" "):""),f}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==m.call(e)}function i(e){return"string"==typeof e}function o(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();b=1,e?e.t?p(function(){("c"==e.t?d.injectCss:d.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):b=0}function l(e,n,r,i,o,l,c){function u(t){if(!f&&a(h.readyState)&&(y.r=f=1,!b&&s(),h.onload=h.onreadystatechange=null,t)){"img"!=e&&p(function(){_.removeChild(h)},50);for(var r in E[n])E[n].hasOwnProperty(r)&&E[n][r].onload()}}var c=c||d.errorTimeout,h=t.createElement(e),f=0,m=0,y={t:r,s:n,e:o,a:l,x:c};1===E[n]&&(m=1,E[n]=[]),"object"==e?h.data=n:(h.src=n,h.type=e),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){u.call(this,m)},v.splice(i,0,y),"img"!=e&&(m||2===E[n]?(_.insertBefore(h,w?null:g),p(u,c)):E[n].push(h))}function c(e,t,n,r,o){return b=0,t=t||"j",i(e)?l("c"==t?C:x,e,t,this.i++,n,r,o):(v.splice(this.i++,0,e),1==v.length&&s()),this}function u(){var e=d;return e.loader={load:c,i:0},e}var h,d,f=t.documentElement,p=e.setTimeout,g=t.getElementsByTagName("script")[0],m={}.toString,v=[],b=0,y="MozAppearance"in f.style,w=y&&!!t.createRange().compareNode,_=w?f:g.parentNode,f=e.opera&&"[object Opera]"==m.call(e.opera),f=!!t.attachEvent&&!f,x=y?"object":f?"script":"img",C=f?"script":x,S=Array.isArray||function(e){return"[object Array]"==m.call(e)},k=[],E={},T={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};d=function(e){function t(e){var t,n,r,e=e.split("!"),i=k.length,o=e.pop(),a=e.length,o={url:o,origUrl:o,prefixes:e};for(n=0;a>n;n++)r=e[n].split("="),(t=T[r.shift()])&&(o=t(o,r));for(n=0;i>n;n++)o=k[n](o);return o}function a(e,i,o,a,s){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(i&&(i=r(i)?i:i[e]||i[a]||i[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,i,o,a,s):(E[l.url]?l.noexec=!0:E[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(r(i)||r(c))&&o.load(function(){u(),i&&i(l.origUrl,s,a),c&&c(l.origUrl,s,a),E[l.url]=2})))}function s(e,t){function n(e,n){if(e){if(i(e))n||(h=function(){var e=[].slice.call(arguments);d.apply(this,e),f()}),a(e,h,t,0,c);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--s&&(r(h)?h=function(){var e=[].slice.call(arguments);d.apply(this,e),f()}:h[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(d[l])),a(e[l],h,t,l,c))}else!n&&f()}var s,l,c=!!e.test,u=e.load||e.both,h=e.callback||o,d=h,f=e.complete||o;n(c?e.yep:e.nope,!!u),u&&n(u)}var l,c,h=this.yepnope.loader;if(i(e))a(e,0,h,0);else if(S(e))for(l=0;l<e.length;l++)c=e[l],i(c)?a(c,0,h,0):S(c)?d(c):Object(c)===c&&s(c,h);else Object(e)===e&&s(e,h)},d.addPrefix=function(e,t){T[e]=t},d.addFilter=function(e){k.push(e)},d.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",h=function(){t.removeEventListener("DOMContentLoaded",h,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,r,i,l,c){var u,h,f=t.createElement("script"),i=i||d.errorTimeout;f.src=e;for(h in r)f.setAttribute(h,r[h]);n=c?s:n||o,f.onreadystatechange=f.onload=function(){!u&&a(f.readyState)&&(u=1,n(),f.onload=f.onreadystatechange=null)},p(function(){u||(u=1,n(1))},i),l?f.onload():g.parentNode.insertBefore(f,g)},e.yepnope.injectCss=function(e,n,r,i,a,l){var c,i=t.createElement("link"),n=l?s:n||o;i.href=e,i.rel="stylesheet",i.type="text/css";for(c in r)i.setAttribute(c,r[c]);a||(g.parentNode.insertBefore(i,g),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e,t,n){function r(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function i(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return v[e.which]?v[e.which]:b[e.which]?b[e.which]:String.fromCharCode(e.which).toLowerCase()}function o(e,t){return e.sort().join(",")===t.sort().join(",")}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function s(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function l(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function c(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function u(){if(!m){m={};for(var e in v)e>95&&112>e||v.hasOwnProperty(e)&&(m[v[e]]=e)}return m}function h(e,t,n){return n||(n=u()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function d(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function f(e,t){var n,r,i,o=[];for(n=d(e),i=0;i<n.length;++i)r=n[i],w[r]&&(r=w[r]),t&&"keypress"!=t&&y[r]&&(r=y[r],o.push("shift")),c(r)&&o.push(r);return t=h(r,o,t),{key:r,modifiers:o,action:t}}function p(e,n){return null===e||e===t?!1:e===n?!0:p(e.parentNode,n)}function g(e){function n(e){e=e||{};var t,n=!1;for(t in w)e[t]?n=!0:w[t]=0;n||(C=!1)}function u(e,t,n,r,i,a){var s,l,u=[],h=n.type;if(!b._callbacks[e])return[];for("keyup"==h&&c(e)&&(t=[e]),s=0;s<b._callbacks[e].length;++s)if(l=b._callbacks[e][s],(r||!l.seq||w[l.seq]==l.level)&&h==l.action&&("keypress"==h&&!n.metaKey&&!n.ctrlKey||o(t,l.modifiers))){var d=!r&&l.combo==i,f=r&&l.seq==r&&l.level==a;(d||f)&&b._callbacks[e].splice(s,1),u.push(l)}return u}function h(e,t,n,r){b.stopCallback(t,t.target||t.srcElement,n,r)||e(t,n)===!1&&(s(t),l(t))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=i(e);if(t)return"keyup"==e.type&&_===t?void(_=!1):void b.handleKey(t,a(e),e)}function p(){clearTimeout(y),y=setTimeout(n,1e3)}function m(e,t,r,o){function a(t){return function(){C=t,++w[e],p()}}function s(t){h(r,t,e),"keyup"!==o&&(_=i(t)),setTimeout(n,10)}w[e]=0;for(var l=0;l<t.length;++l){var c=l+1===t.length,u=c?s:a(o||f(t[l+1]).action);v(t[l],u,o,e,l)}}function v(e,t,n,r,i){b._directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var o,a=e.split(" ");return a.length>1?void m(e,a,t,n):(o=f(e,n),b._callbacks[o.key]=b._callbacks[o.key]||[],u(o.key,o.modifiers,{type:o.action},r,e,i),void b._callbacks[o.key][r?"unshift":"push"]({callback:t,modifiers:o.modifiers,action:o.action,seq:r,level:i,combo:e}))}var b=this;if(e=e||t,!(b instanceof g))return new g(e);b.target=e,b._callbacks={},b._directMap={};var y,w={},_=!1,x=!1,C=!1;b._handleKey=function(e,t,r){var i,o=u(e,t,r),a={},s=0,l=!1;for(i=0;i<o.length;++i)o[i].seq&&(s=Math.max(s,o[i].level));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!=s)continue;l=!0,a[o[i].seq]=1,h(o[i].callback,r,o[i].combo,o[i].seq)}else l||h(o[i].callback,r,o[i].combo);var d="keypress"==r.type&&x;r.type!=C||c(e)||d||n(a),x=l&&"keydown"==r.type},b._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},r(e,"keypress",d),r(e,"keydown",d),r(e,"keyup",d)}for(var m,v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},b={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},y={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},_=1;20>_;++_)v[111+_]="f"+_;for(_=0;9>=_;++_)v[_+96]=_;g.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},g.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},g.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},g.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},g.prototype.stopCallback=function(e,t){var n=this;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:p(t,n.target)?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.init=function(){var e=g(t);for(var n in e)"_"!==n.charAt(0)&&(g[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n))},g.init(),e.Mousetrap=g,"undefined"!=typeof module&&module.exports&&(module.exports=g),"function"==typeof define&&define.amd&&define(function(){return g})}(window,document),function(e){"use strict";function t(e,t){o.async(function(){e.trigger("promise:resolved",{detail:t}),e.isResolved=!0,e.resolvedValue=t})}function n(e,t){o.async(function(){e.trigger("promise:failed",{detail:t}),e.isRejected=!0,e.rejectedValue=t})}function r(e){var t,n=[],r=new g,i=e.length;0===i&&r.resolve([]);var o=function(e){return function(t){a(e,t)}},a=function(e,t){n[e]=t,0===--i&&r.resolve(n)},s=function(e){r.reject(e)};for(t=0;i>t;t++)e[t].then(o(t),s);return r}function i(e,t){o[e]=t}var o={},a="undefined"!=typeof window?window:{},s=a.MutationObserver||a.WebKitMutationObserver;if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))o.async=function(e,t){process.nextTick(function(){e.call(t)})};else if(s){var l=[],c=new s(function(){var e=l.slice();l=[],e.forEach(function(e){var t=e[0],n=e[1];t.call(n)})}),u=document.createElement("div");c.observe(u,{attributes:!0}),window.addEventListener("unload",function(){c.disconnect(),c=null}),o.async=function(e,t){l.push([e,t]),u.setAttribute("drainQueue","drainQueue")}}else o.async=function(e,t){setTimeout(function(){e.call(t)},1)};var h=function(e,t){this.type=e;for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])},d=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n][0]===t)return n;return-1},f=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t},p={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e},on:function(e,t,n){var r,i,o=f(this);for(e=e.split(/\s+/),n=n||this;i=e.shift();)r=o[i],r||(r=o[i]=[]),-1===d(r,t)&&r.push([t,n])},off:function(e,t){var n,r,i,o=f(this);for(e=e.split(/\s+/);r=e.shift();)t?(n=o[r],i=d(n,t),-1!==i&&n.splice(i,1)):o[r]=[]},trigger:function(e,t){var n,r,i,o,a,s=f(this);if(n=s[e])for(var l=0,c=n.length;c>l;l++)r=n[l],i=r[0],o=r[1],"object"!=typeof t&&(t={detail:t}),a=new h(e,t),i.call(o,a)}},g=function(){this.on("promise:resolved",function(e){this.trigger("success",{detail:e.detail})},this),this.on("promise:failed",function(e){this.trigger("error",{detail:e.detail})},this)},m=function(){},v=function(e,t,n,r){var i,o,a,s,l="function"==typeof n;if(l)try{i=n(r.detail),a=!0}catch(c){s=!0,o=c}else i=r.detail,a=!0;i&&"function"==typeof i.then?i.then(function(e){t.resolve(e)},function(e){t.reject(e)}):l&&a?t.resolve(i):s?t.reject(o):t[e](i)};g.prototype={then:function(e,t){var n=new g;return this.isResolved&&o.async(function(){v("resolve",n,e,{detail:this.resolvedValue})},this),this.isRejected&&o.async(function(){v("reject",n,t,{detail:this.rejectedValue})},this),this.on("promise:resolved",function(t){v("resolve",n,e,t)}),this.on("promise:failed",function(e){v("reject",n,t,e)}),n},resolve:function(e){t(this,e),this.resolve=m,this.reject=m},reject:function(e){n(this,e),this.resolve=m,this.reject=m}},p.mixin(g.prototype),e.Promise=g,e.Event=h,e.EventTarget=p,e.all=r,e.configure=i}(window.RSVP={}),function(e){e.fn.showHtml=function(t,n,r){return this.each(function(){var i=e(this),o={width:this.style.width,height:this.style.height},a={width:i.width()+"px",height:i.height()+"px"};i.html(t);var s={width:i.width()+"px",height:i.height()+"px"};i.css(a).animate(s,n,function(){i.css(o),e.isFunction(r)&&r()})})}}(jQuery),function(e){var t="scroll.lock-on touchmove.lock-on mousedown.lock-on wheel.lock-on DOMMouseScroll.lock-on mousewheel.lock-on keyup.lock-on",n=function(e,t){this.selector=e,this.options=t||{}};n.prototype.elementTop=function(){var e=this.options.offsetCalculator,t=$(this.selector);return t&&t.offset&&t.offset()?t.offset().top-(e?e():0):void 0},n.prototype.lock=function(){var e=this,n=this.elementTop(),r=(new Date).getTime(),i=0;$(window).scrollTop(n);var o=function(e,t,n){return Math.abs(t-n)<e},a=setInterval(function(){i+=1;var s=e.elementTop(),l=$(window).scrollTop();if("undefined"==typeof s)return $("body,html").off(t),void clearInterval(a);o(4,s,n)&&o(4,l,s)||($(window).scrollTop(s),n=s);var c=(new Date).getTime();c-r>1e3&&($("body,html").off(t),clearInterval(a))},50);$("body,html").off(t).on(t,function(e){(e.which>0||"mousedown"===e.type||"mousewheel"===e.type||"touchmove"===e.type)&&($("body,html").off(t),clearInterval(a))})},e.LockOn=n}(window),function(){var e="<wbr>&#8203;",t=function(e){this.string=e};t.prototype["break"]=function(t){var n=[],r=this.string;if(t){t=t.toLowerCase().split(/\s+/).reverse();for(var i=0;t.length>0;){var o=t.pop();if(o!==r.substr(i,o.length).toLowerCase())break;i+=o.length,n.push(i)}}var a=[],s=r[0];a.push(s);for(var l=1;l<r.length;l++){var c=r[l];s.match(/[^0-9]/)&&c.match(/[0-9]/)?a.push(e):l>1&&s.match(/[A-Z]/)&&c.match(/[a-z]/)?(a.pop(),a.push(e),a.push(s)):s.match(/[^A-Za-z0-9]/)&&c.match(/[a-zA-Z0-9]/)?a.push(e):n.indexOf(l)>-1&&a.push(e),a.push(c),s=c}return a.join("")},this.BreakString=t}.call(this),function(e){"use strict";function t(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var n=e.Ember,r=n.get,i=n.set,o=n.Mixin.create({buffer:null,hasBufferedChanges:!1,unknownProperty:function(e){var t=this.buffer;return t&&t.hasOwnProperty(e)?t[e]:this._super(e)},setUnknownProperty:function(e,n){this.buffer||(this.buffer={});var i=this.buffer,o=this.get("content"),a=o&&r(o,e),s=i.hasOwnProperty(e)?i[e]:a;if(s!==n)return this.propertyWillChange(e),a===n?(delete i[e],t(i)&&this.set("hasBufferedChanges",!1)):(i[e]=n,this.set("hasBufferedChanges",!0)),this.propertyDidChange(e),n},applyBufferedChanges:function(){var e,t=this.buffer,n=this.get("content");for(e in t)t.hasOwnProperty(e)&&i(n,e,t[e]);this.buffer={},this.set("hasBufferedChanges",!1)},discardBufferedChanges:function(){var e,t=this.buffer;this.get("content");for(e in t)t.hasOwnProperty(e)&&(this.propertyWillChange(e),delete t[e],this.propertyDidChange(e));this.set("hasBufferedChanges",!1)}});"undefined"!=typeof module&&module.exports?module.exports=o:"function"==typeof define&&define.amd?define("buffered-proxy",function(e,t,n){return o}):e.BufferedProxy=o}(this),function(e){function t(){if(!h){h=!0;for(var t in u)e(t).each(function(){var n,r;n=e(this),r=n.data("jqae"),(r.containerWidth!=n.width()||r.containerHeight!=n.height())&&l(n,u[t])});h=!1}}function n(e){u[e]&&(delete u[e],u.length||c&&(window.clearInterval(c),c=void 0))}function r(e,n){u[e]=n,c||(c=window.setInterval(function(){t()},200))}function i(){return 3===this.nodeType}function o(t){if(t.contents().length){var n=t.contents(),r=n.eq(n.length-1);if(r.filter(i).length){var a=r.get(0).nodeValue;return a=e.trim(a),""==a?(r.remove(),!0):!1}for(;o(r););return r.contents().length?!1:(r.remove(),!0)}return!1}function a(e){if(e.contents().length){var t=e.contents(),n=t.eq(t.length-1);return n.filter(i).length?n:a(n)}e.append("");var t=e.contents();return t.eq(t.length-1)}function s(t){var n=a(t);if(n.length){var r=n.get(0).nodeValue,i=r.lastIndexOf(" ");return i>-1?(r=e.trim(r.substring(0,i)),n.get(0).nodeValue=r):n.get(0).nodeValue="",!0}return!1}function l(t,n){var r=t.data("jqae");r||(r={});var i=r.wrapperElement;i||(i=t.wrapInner("<div/>").find(">div"),i.css({margin:0,padding:0,border:0}));var l=i.data("jqae");l||(l={});var c=l.originalContent;c?i=l.originalContent.clone(!0).data("jqae",{originalContent:c}).replaceAll(i):i.data("jqae",{originalContent:i.clone(!0)}),t.data("jqae",{wrapperElement:i,containerWidth:t.width(),containerHeight:t.height()});var u=t.height(),h=(parseInt(t.css("padding-top"),10)||0)+(parseInt(t.css("border-top-width"),10)||0)-(i.offset().top-t.offset().top),d=!1,f=i;n.selector&&(f=e(i.find(n.selector).get().reverse())),f.each(function(){var t=e(this),r=t.text(),l=!1;if(i.innerHeight()-t.innerHeight()>u+h)t.remove();else if(o(t),t.contents().length){for(d&&(a(t).get(0).nodeValue+=n.ellipsis,d=!1);i.innerHeight()>u+h;){if(l=s(t),!l){d=!0,t.remove();break}if(o(t),!t.contents().length){d=!0,t.remove();break}a(t).get(0).nodeValue+=n.ellipsis}"onEllipsis"==n.setTitle&&l||"always"==n.setTitle?t.attr("title",r):"never"!=n.setTitle&&t.removeAttr("title")}})}var c,u={},h=!1,d={ellipsis:"...",setTitle:"never",live:!1};e.fn.ellipsis=function(t,i){var o,a;return o=e(this),"string"!=typeof t&&(i=t,t=void 0),a=e.extend({},d,i),a.selector=t,o.each(function(){var t=e(this);l(t,a)}),a.live?r(o.selector,a):n(o.selector),this}}(jQuery),define("discourse/ember/resolver",["exports"],function(e){"use strict";function t(e){return function(t){var n=t.fullNameWithoutType;return n.indexOf("Loading")>=0&&(n=n.replace("Loading",""),-1!==s.indexOf(n))?e(n):void 0}}function n(e){var t=e.split(":"),n=t[0],r=t[1],i=r,s=a(this,"namespace"),l=s;return{fullName:e,type:n,fullNameWithoutType:r,name:i,root:l,resolveMethodName:"resolve"+o(n)}}var r,i,o=Ember.String.classify,a=Ember.get,s=["badges","userActivity","userPrivateMessages","admin","adminFlags","user","preferences","adminEmail","adminUsersList"];e["default"]=Ember.DefaultResolver.extend({parseName:n,normalize:function(e){var t=e.split(":");if(t.length>1){var n="discourse/"+t[0]+"s/",r="admin/"+t[0]+"s/";t[1]=t[1].replace(".templates","").replace("/templates","");var i=Ember.String.dasherize(t[1].replace(/\./g,"/"));if(requirejs.entries[n+i]||requirejs.entries[r+i])return t[0]+":"+i;if(i=Ember.String.dasherize(t[1].replace(/\./g,"-")),requirejs.entries[n+i]||requirejs.entries[r+i])return t[0]+":"+i}return this._super(e)},customResolve:function(e){var t,n=e.type+"s/"+e.fullNameWithoutType,r=Ember.String.dasherize(n),i=Ember.keys(requirejs.entries).find(function(e){return-1!==e.indexOf(n,e.length-n.length)||-1!==e.indexOf(r,e.length-r.length)});return i&&(t=require(i,null,null,!0),t&&t["default"]&&(t=t["default"])),t},resolveAdapter:function(e){return this.customResolve(e)||this._super(e)},resolveModel:function(e){return this.customResolve(e)||this._super(e)},resolveView:function(e){return this.findLoadingView(e)||this.customResolve(e)||this._super(e)},resolveHelper:function(e){return this.customResolve(e)||this._super(e)},resolveController:function(e){return this.customResolve(e)||this._super(e)},resolveComponent:function(e){return this.customResolve(e)||this._super(e)},resolveRoute:function(e){return this.findLoadingRoute(e)||this.customResolve(e)||this._super(e)},resolveTemplate:function(e){return this.findPluginTemplate(e)||this.findMobileTemplate(e)||this.findTemplate(e)||Ember.TEMPLATES.not_found},findLoadingRoute:t(function(){return r=r||Ember.Route.extend()}),findLoadingView:t(function(){return i||(i=require("discourse/views/loading",null,null,!0),i&&i["default"]&&(i=i["default"])),i}),findPluginTemplate:function(e){var t=this.parseName(e.fullName.replace("template:","template:javascripts/"));return this.findTemplate(t)},findMobileTemplate:function(e){if(Discourse.Mobile.mobileView){var t=this.parseName(e.fullName.replace("template:","template:mobile/"));return this.findTemplate(t)}},findTemplate:function(e){var t=e.fullNameWithoutType,n=t.replace(/\./g,"/"),r=t.decamelize(),i=Ember.TEMPLATES;return this._super(e)||i[n]||i[t]||i[r.replace(/\./,"/")]||i[r.replace(/\_/,"/")]||this.findAdminTemplate(e)||this.findUnderscoredTemplate(e)},findUnderscoredTemplate:function(e){var t=e.fullNameWithoutType.decamelize(),n=t.replace(/\-/g,"_");return Ember.TEMPLATES[n]},findAdminTemplate:function(e){var t=e.fullNameWithoutType.decamelize();if(0===t.indexOf("components")){var n=Ember.TEMPLATES["admin/templates/"+t];if(n)return n}if("javascripts/admin"===t)return Ember.TEMPLATES["admin/templates/admin"];if(0===t.indexOf("admin")||0===t.indexOf("javascripts/admin")){t=t.replace(/^admin\_/,"admin/templates/"),t=t.replace(/^admin\./,"admin/templates/"),t=t.replace(/\./g,"_");var r=t.replace(/_/g,"-");return Ember.TEMPLATES[t]||Ember.TEMPLATES[r]||Ember.TEMPLATES[r.replace("admin-","admin/")]}}})});
//# sourceMappingURL=/assets/vendor-2ff9e230f5bc60c6d19b98f79e81c3d5.js.map